(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){e.exports=a(33)},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o=a.n(l),c=a(4),i=a(3),s=a(1),u=a(2),d=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return new Promise((function(n,r){var l=new XMLHttpRequest;l.onload=function(e){n(e)},l.onerror=function(e){r(e)},l.open(a,"http://localhost:8080/api"+t),l.send(JSON.stringify(e))}))},m=function(e){return new Promise((function(t,a){var n=new XMLHttpRequest;n.onload=function(e){t(e)},n.onerror=function(e){a(e)},n.open("get","http://localhost:8080/api"+e),n.send()}))},p=function(){return document.cookie.split(";").reduce((function(e,t){var a=t.split("="),n=Object(u.a)(a,2),r=n[0];switch(n[1]){case"true":return e[r]=!0,e;case"false":return e[r]=!1,e;default:return e[r]=null,e}}),{})};function E(e){var t=e.isTrustedVolunteer,a=e.titleOnly,l=void 0!==a&&a,o=Object(n.useState)({loginRedirect:!1,cookie:{}}),d=Object(u.a)(o,2),m=d[0],E=d[1];return Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&null!==e.isTrustedVolunteer?E(Object(s.a)(Object(s.a)({},m),{},{cookie:e})):E(Object(s.a)(Object(s.a)({},m),{},{loginRedirect:!0}))}),[]),r.a.createElement(r.a.Fragment,null,m.loginRedirect&&r.a.createElement(i.a,{to:{pathname:"/login"}}),r.a.createElement("nav",{className:"container"},r.a.createElement("h1",null,"Mo's Mutt House"),!l&&r.a.createElement("ul",null,r.a.createElement("li",{className:"nav-link form-unit log-out"},r.a.createElement(c.b,{to:"/login"},"Logout")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-link form-unit"},r.a.createElement(c.b,{to:"/reports"},"Reports")),r.a.createElement("li",{className:"nav-link form-unit"},r.a.createElement(c.b,{to:"/review-applications"},"Review Applications"))),r.a.createElement("li",{className:"nav-link form-unit"},r.a.createElement(c.b,{to:"/add-application"},"Add Application")),r.a.createElement("li",{className:"nav-link form-unit"},r.a.createElement(c.b,{to:"/add-dog"},"Add Dog")),r.a.createElement("li",{className:"nav-link form-unit"},r.a.createElement(c.b,{to:"/dog-dashboard"},"Dog Dashboard")))))}var b=function(){var e=Object(i.g)().state,t=Object(n.useState)({approvedApplicants:[],approvedApplicantLastNameFragment:"",timeout:-1,latestApplication:{},dog:e&&e.dog,dateAdopted:"",dashboardRedirect:!1,errorMessage:"",cookie:{}}),a=Object(u.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&e.isTrustedVolunteer&&o(Object(s.a)(Object(s.a)({},l),{},{cookie:e}))}),[]);var c=l.dog&&l.dog.expenses.reduce((function(e,t){return e+t.amountInCents/100}),0),b=l.dog&&(l.dog.surrenderedByAnimalControl&&c||0),h=1.15*c-b,g=Math.round(h%1*100),f=Math.floor(h);return r.a.createElement(r.a.Fragment,null,l.dashboardRedirect&&r.a.createElement(i.a,{to:{pathname:"/dog-dashboard",state:{from:"/add-adoption"}}}),r.a.createElement(E,{isTrustedVolunteer:l.cookie.isTrustedVolunteer}),r.a.createElement("main",{className:"container"},r.a.createElement("h1",null,"Add Adoption"),!l.latestApplication.id&&r.a.createElement("form",null,r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"approved-applicant-last-name"},"Search by approved applicant last name:"),r.a.createElement("input",{id:"approved-applicant-last-name",onChange:function(e){var t=e.target;clearTimeout(l.timeout),o(Object(s.a)(Object(s.a)({},l),{},{timeout:setTimeout((function(){m("/applicant?like=".concat(t.value)).then((function(e){var t=e.target,a=JSON.parse(t.response);200===t.status?o(Object(s.a)(Object(s.a)({},l),{},{approvedApplicants:a})):console.log(t)})).catch((function(e){console.log(e)}))}),400)}))}}))),r.a.createElement("div",null),!l.latestApplication.id&&l.approvedApplicants.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Select Applicant"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Street"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"State"),r.a.createElement("th",null,"Zip"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Phone Number"),r.a.createElement("th",null,"Co-applicant Name"))),r.a.createElement("tbody",null,l.approvedApplicants.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:function(){!function(e,t){var a=Object.keys(e).filter((function(t){return e[t]})).map((function(t,a){return"".concat(a?"&":"?").concat(t,"=").concat(e[t])})).join("");m("/application".concat(a)).then((function(e){var a=e.target;if(200===a.status){var n=JSON.parse(a.response)[0];n.applicant=t,o(Object(s.a)(Object(s.a)({},l),{},{latestApplication:n}))}else console.log(a)})).catch((function(e){console.log(e)}))}({applicantId:e.id,coApplicantFirstName:e.coApplicantFirstName,coApplicantLastName:e.coApplicantLastName},e)}},"Select")),r.a.createElement("td",null,e.firstName),r.a.createElement("td",null,e.lastName),r.a.createElement("td",null,e.street),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.state),r.a.createElement("td",null,e.zip),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.phoneNumber),r.a.createElement("td",null,"".concat(e.coApplicantFirstName||""," ").concat(e.coApplicantLastName||"")))}))))),!l.latestApplication.id&&!l.approvedApplicants.length&&r.a.createElement("h3",null,"There are not currently any approved applications."),l.latestApplication.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Selected Application"),r.a.createElement("div",{className:"form-unit"},"Application Number: ",l.latestApplication.id),r.a.createElement("div",{className:"form-unit"},"Date: ",new Date(l.latestApplication.date).toString()),r.a.createElement("div",{className:"form-unit"},"Applicant Name: ",l.latestApplication.applicant.firstName," ",l.latestApplication.applicant.lastName),r.a.createElement("div",{className:"form-unit"},"Applicant Address: ",l.latestApplication.applicant.street,", ",l.latestApplication.applicant.city,", ",l.latestApplication.applicant.state,"  ",l.latestApplication.applicant.zipCode),r.a.createElement("div",{className:"form-unit"},"Email: ",l.latestApplication.applicant.email),r.a.createElement("div",{className:"form-unit"},"Phone Number: ",l.latestApplication.applicant.phoneNumber),(l.latestApplication.coApplicantFirstName||l.latestApplication.coApplicantLastName)&&r.a.createElement("div",{className:"form-unit"},"Co-Applicant: ",l.latestApplication.coApplicantFirstName," ",l.latestApplication.coApplicantLastName),r.a.createElement("h3",null,"Expenses"),l.dog.expenses.map((function(e){return r.a.createElement("div",{className:"form-unit",key:e.vendor+e.date},r.a.createElement("div",null,"Vendor: ",e.vendor),r.a.createElement("div",null,"Amount: $",e.amountInCents/100),r.a.createElement("div",null,"Description: ",e.description),r.a.createElement("div",null,"Date: ",e.date))})),r.a.createElement("h3",null,"Total Expenses: $",c),r.a.createElement("h3",null,"Animal Control pays: $",b),r.a.createElement("h3",null,"Adoption Fee: $",f,".",g),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"adoption-date"},"Adoption Date:"),r.a.createElement("input",{type:"date",onChange:function(e){var t=e.target;return o(Object(s.a)(Object(s.a)({},l),{},{dateAdopted:t.value}))}})),l.dateAdopted&&r.a.createElement("div",null,r.a.createElement("span",null,"I confirm every looks correct: "),r.a.createElement("button",{type:"button",onClick:function(){var e={dateAdopted:l.dateAdopted,applicationNumberFk:+l.latestApplication.id,dogIdFk:l.dog.id};d(e,"/adoption").then((function(e){var t=e.target;201===t.status?o(Object(s.a)(Object(s.a)({},l),{},{dashboardRedirect:!0})):(console.log("error adding dog (non-201):",t.response),o(Object(s.a)(Object(s.a)({},l),{},{errorMessage:t.response})))})).catch((function(e){console.log("error adding dog (catch):",e),o(Object(s.a)(Object(s.a)({},l),{},{errorMessage:e}))}))}},"Complete Adoption"),r.a.createElement("button",{type:"button",onClick:function(){return o(Object(s.a)(Object(s.a)({},l),{},{latestApplication:{},adoptionDate:""}))}},"Cancel")))))},h=function(){var e=Object(n.useState)({showModal:!1,dashboardRedirect:!1,errorMessage:"",timeout:-1,applicationId:"",loginRedirect:!1,cookie:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&null!==e.isTrustedVolunteer&&l(Object(s.a)(Object(s.a)({},a),{},{cookie:e}))}),[]);var o=Object(n.useState)({city:"",email:"",firstName:"",lastName:"",phoneNumber:"",state:"",street:"",zip:""}),c=Object(u.a)(o,2),b=c[0],h=c[1],g=Object(n.useState)({coApplicantFirstName:"",coApplicantLastName:"",applicantIdFk:"",date:"",state:""}),f=Object(u.a)(g,2),y=f[0],v=f[1],O=function(e){var t=b;Object.assign(t,e),h(Object(s.a)({},t))},j=function(e){var t=y;Object.assign(t,e),v(Object(s.a)({},t))},x=function(){d(y,"/application").then((function(e){var t=e.target;201===t.status?l(Object(s.a)(Object(s.a)({},a),{},{applicationId:JSON.parse(t.response).id,showModal:!0})):(console.log("error adding application (non-201):",t.response),l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:t.response})))})).catch((function(e){console.log("error adding application (catch):",e),l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:e}))}))};return r.a.createElement(r.a.Fragment,null,a.dashboardRedirect&&r.a.createElement(i.a,{to:{pathname:"/dog-dashboard",state:{from:"/add-dog"}}}),r.a.createElement(E,{isTrustedVolunteer:a.cookie.isTrustedVolunteer}),r.a.createElement("main",{className:"container"},r.a.createElement("h1",null,"Add Application"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:""},"Applicant Email Address:"),r.a.createElement("input",{type:"text",id:"applicant-email",value:b.email,onChange:function(e){var t=e.target;O({email:t.value}),clearTimeout(a.timeout),l(Object(s.a)(Object(s.a)({},a),{},{timeout:setTimeout((function(){m("/applicant/".concat(b.email)).then((function(e){var t=e.target,a=JSON.parse(t.response);200===t.status&&a.email&&(h(a),j({applicantIdFk:a.id}))})).catch((function(e){console.log(e)}))}),400)}))}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:""},"Applicant First Name:"),r.a.createElement("input",{type:"text",id:"applicant-first-name",value:b.firstName,onChange:function(e){var t=e.target;return O({firstName:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:""},"Applicant Last Name:"),r.a.createElement("input",{type:"text",id:"applicant-last-name",value:b.lastName,onChange:function(e){var t=e.target;return O({lastName:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:""},"Street Address:"),r.a.createElement("input",{type:"text",id:"applicant-stree-address",value:b.street,onChange:function(e){var t=e.target;return O({street:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:""},"City:"),r.a.createElement("input",{type:"text",id:"applicant-city",value:b.city,onChange:function(e){var t=e.target;return O({city:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:""},"State: (2 Letters)"),r.a.createElement("input",{type:"text",id:"applicant-state",value:b.state,onChange:function(e){var t=e.target;return O({state:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:""},"Zip Code:"),r.a.createElement("input",{type:"text",id:"applicant-zip-code",value:b.zip,onChange:function(e){var t=e.target;return O({zip:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:""},"Phone Number:"),r.a.createElement("input",{type:"text",id:"applicant-phone-number",value:b.phoneNumber,onChange:function(e){var t=e.target;return O({phoneNumber:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:""},"Co-Applicant First Name:"),r.a.createElement("input",{type:"text",id:"applicant-co-applicant-first-name",value:b.coApplicantFirstName,onChange:function(e){var t=e.target;return j({coApplicantFirstName:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:""},"Co-Applicant Last Name:"),r.a.createElement("input",{type:"text",id:"applicant-co-applicant-last-name",value:b.coApplicantLastName,onChange:function(e){var t=e.target;return j({coApplicantLastName:t.value})}})),r.a.createElement("button",{type:"button",onClick:function(){y.applicantIdFk?x():d(b,"/applicant").then((function(e){var t=e.target,n=JSON.parse(t.response);201===t.status&&n.email?(h(n),j({applicantIdFk:n.id}),x()):(console.log("error adding application (non-201):",t.response),l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:t.response})))})).catch((function(e){console.log("error adding application (catch):",e),l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:e}))}))}},"Submit Application")),a.showModal&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden"}},r.a.createElement("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:10,backgroundColor:"black",opacity:.5}}),r.a.createElement("div",{style:{position:"fixed",left:"50%",bottom:"50%",marginLeft:"-300px",marginBottom:"-150px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:100,height:"300px",width:"600px",backgroundColor:"white"}},r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("span",null,"Application successfully created.")),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("span",null,"Application #",a.applicationId)),r.a.createElement("div",{style:{margin:"20px"}},"Would you like to go to"),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){h({city:"",email:"",firstName:"",lastName:"",phoneNumber:"",state:"",street:"",zip:""}),v({coApplicantFirstName:"",coApplicantLastName:"",applicantIdFk:"",date:"",state:""}),l({showModal:!1,dashboardRedirect:!1,errorMessage:"",timeout:-1,applicationId:"",loginRedirect:!1})}},"Add another application"),r.a.createElement("span",{style:{margin:"20px"}}," or "),r.a.createElement("button",{onClick:function(){return l(Object(s.a)(Object(s.a)({},a),{},{dashboardRedirect:!0}))}},"Back to Dog Dashboard"))))))},g=function(){var e=Object(n.useState)({loginRedirect:!1,cookie:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&null!==e.isTrustedVolunteer&&l(Object(s.a)(Object(s.a)({},a),{},{cookie:e}))}),[]);var o=Object(n.useReducer)((function(e,t){switch(t.type){case"dogName":return Object(s.a)(Object(s.a)({},e),{},{dogName:t.payload});case"breed":var a=e.breed;if(t.payload.checked){if(a[t.payload.breed]=!0,"Mixed"===t.payload.breed||"Unknown"===t.payload.breed)for(var n in a)n!==t.payload.breed&&(delete a[n],document.querySelector("#".concat(n.split(" ").join("-"))).checked=!1)}else delete a[t.payload.breed];return Object(s.a)(Object(s.a)({},e),{},{breed:a});case"sex":return Object(s.a)(Object(s.a)({},e),{},{sex:t.payload});case"alterationStatus":return Object(s.a)(Object(s.a)({},e),{},{alterationStatus:t.payload});case"dateOfBirth":return Object(s.a)(Object(s.a)({},e),{},{dateOfBirth:t.payload});case"description":return Object(s.a)(Object(s.a)({},e),{},{description:t.payload});case"microchipId":return Object(s.a)(Object(s.a)({},e),{},{microchipId:t.payload});case"expenses":return Object(s.a)(Object(s.a)({},e),{},{expenses:t.payload});case"surrenderDate":return Object(s.a)(Object(s.a)({},e),{},{surrenderDate:t.payload});case"surrenderReason":return Object(s.a)(Object(s.a)({},e),{},{surrenderReason:t.payload});case"surrenderedByAnimalControl":return Object(s.a)(Object(s.a)({},e),{},{surrenderedByAnimalControl:t.payload});case"availableBreeds":return Object(s.a)(Object(s.a)({},e),{},{availableBreeds:t.payload});case"errorMessage":return Object(s.a)(Object(s.a)({},e),{},{errorMessage:t.payload});case"showModal":return Object(s.a)(Object(s.a)({},e),{},{id:t.payload,showModal:!0});case"dogDetail":return Object(s.a)(Object(s.a)({},e),{},{detailRedirect:!0});case"dogDashboard":return Object(s.a)(Object(s.a)({},e),{},{dashboardRedirect:!0});default:throw new Error}}),{dogName:"",breed:{},sex:null,alterationStatus:null,dateOfBirth:"",description:"",microchipId:"",surrenderDate:"",surrenderReason:"",surrenderedByAnimalControl:null,availableBreeds:[],errorMessage:"",showModal:!1,detailRedirect:!1,dashboardRedirect:!1,id:-1}),c=Object(u.a)(o,2),b=c[0],h=c[1],g=b.dogName,f=b.breed,y=b.sex,v=b.alterationStatus,O=b.dateOfBirth,j=b.description,x=b.microchipId,N=b.surrenderDate,A=b.surrenderReason,k=b.surrenderedByAnimalControl,w=b.availableBreeds,S=b.errorMessage,M=b.showModal,C=b.detailRedirect,F=b.dashboardRedirect,D=b.id;Object(n.useEffect)((function(){a.cookie.hasOwnProperty("isTrustedVolunteer")&&null!==a.cookie.isTrustedVolunteer&&m("/breed").then((function(e){var t=e.target;h({type:"availableBreeds",payload:JSON.parse(t.response)})})).catch((function(e){h({type:"errorMessage",payload:e}),console.log("error:",e)}))}),[a.cookie]);var T=function(){if(!g)return h({type:"errorMessage",payload:"Please enter dog name."}),!1;if("uga"===g.toLowerCase()){var e=!1;if(Object.keys(f).forEach((function(t){-1!==t.toLowerCase().indexOf("bulldog")&&(h({type:"errorMessage",payload:"BullDog can not be named 'Uga'."}),e=!0)})),e)return!1}return Object.keys(f).length?y?v?O?j?N?A?!!k||(h({type:"errorMessage",payload:"Please indicate whether dog was surrendered by Animal Control."}),!1):(h({type:"errorMessage",payload:"Please enter reason for dog surrender."}),!1):(h({type:"errorMessage",payload:"Please enter dog's surrender date."}),!1):(h({type:"errorMessage",payload:"Please enter dog description."}),!1):(h({type:"errorMessage",payload:"Please enter dog's date of birth."}),!1):(h({type:"errorMessage",payload:"Please indicate dog's alteration status."}),!1):(h({type:"errorMessage",payload:"Please indicate dog's sex (or select unknown)."}),!1):(h({type:"errorMessage",payload:"Please select at least one dog breed."}),!1)};return r.a.createElement(r.a.Fragment,null,C&&r.a.createElement(i.a,{to:{pathname:"/dog-details/".concat(D),state:{from:"/add-dog"}}}),F&&r.a.createElement(i.a,{to:{pathname:"/dog-dashboard",state:{from:"/add-dog"}}}),r.a.createElement(E,{isTrustedVolunteer:a.cookie.isTrustedVolunteer}),r.a.createElement("main",{className:"container"},r.a.createElement("h1",null,"Add Dog"),r.a.createElement("div",{style:{overflow:M?"hidden":"scroll",clear:"left"}},r.a.createElement("h3",null,"All fields are required unless otherwise stated."),r.a.createElement("form",null,r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"dogName"},"Dog Name:"),r.a.createElement("input",{type:"text",value:g,id:"dogName",onChange:function(e){var t=e.target;h({type:"dogName",payload:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"breed"},"Dog Breed: (Please select at least one.)"),w.map((function(e){var t=e.id,a=e.breed,n=void 0===a?"":a;return r.a.createElement("p",{key:t},r.a.createElement("input",{type:"checkbox",value:n,id:n.split(" ").join("-"),onChange:function(e){var t=e.target;h({type:"breed",payload:{breed:t.value,checked:t.checked}})},disabled:(f.Mixed||f.Unknown)&&!("Mixed"===n||"Unknown"===n)}),r.a.createElement("label",{htmlFor:n,style:{display:"inline",paddingLeft:"10px"}},n))}))),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"sex"},"Dog Sex:"),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"male",name:"sex",value:"male",onChange:function(e){var t=e.target;h({type:"sex",payload:t.value})}}),r.a.createElement("label",{htmlFor:"male",style:{display:"inline"}},"Male")),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"female",name:"sex",value:"female",onChange:function(e){var t=e.target;h({type:"sex",payload:t.value})}}),r.a.createElement("label",{htmlFor:"female",style:{display:"inline"}},"Female")),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"unknown",name:"sex",value:"unknown",onChange:function(e){var t=e.target;h({type:"sex",payload:t.value})}}),r.a.createElement("label",{htmlFor:"unknown",style:{display:"inline"}},"Unknown"))),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"alterationStatus"},"Dog Alteration Status:"),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"altered",name:"alterationStatus",value:!0,onChange:function(e){var t=e.target;h({type:"alterationStatus",payload:t.value})}}),r.a.createElement("label",{htmlFor:"altered",style:{display:"inline"}},"Spayed/Neutered")),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"unaltered",name:"alterationStatus",value:!1,onChange:function(e){var t=e.target;h({type:"alterationStatus",payload:t.value})}}),r.a.createElement("label",{htmlFor:"unaltered",style:{display:"inline"}},"Unaltered"))),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"dateOfBirth"},"Dog Date of Birth:"),r.a.createElement("input",{type:"date",value:O,id:"dateOfBirth",onChange:function(e){var t=e.target;h({type:"dateOfBirth",payload:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"description"},"Dog Description:"),r.a.createElement("textarea",{value:j,id:"description",onChange:function(e){var t=e.target;h({type:"description",payload:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"microchipId"},"Dog Microchip ID: (leave blank if none)"),r.a.createElement("input",{type:"text",value:x,id:"microchipId",onChange:function(e){var t=e.target;h({type:"microchipId",payload:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"surrenderDate"},"Dog Surrender Date:"),r.a.createElement("input",{type:"date",value:N,id:"surrenderDate",onChange:function(e){var t=e.target;h({type:"surrenderDate",payload:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"surrenderReason"},"Dog Surrender Reason:"),r.a.createElement("textarea",{value:A,id:"surrenderReason",onChange:function(e){var t=e.target;h({type:"surrenderReason",payload:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"surrenderedByAnimalControl"},"Dog Was Surrendered by Animal Control:"),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"was",name:"surrenderedByAnimalControl",value:"true",onChange:function(e){var t=e.target;h({type:"surrenderedByAnimalControl",payload:t.value})}}),r.a.createElement("label",{htmlFor:"was",style:{display:"inline"}},"Yes")),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"wasNot",name:"surrenderedByAnimalControl",value:"false",onChange:function(e){var t=e.target;h({type:"surrenderedByAnimalControl",payload:t.value})}}),r.a.createElement("label",{htmlFor:"wasNot",style:{display:"inline"}},"No"))),r.a.createElement("button",{type:"button",onClick:function(){var e=JSON.parse(localStorage.getItem("volunteerId")),t={name:g,breed:Object.keys(f),sex:y,alterationStatus:"true"===v,dateOfBirth:O,description:j,surrenderDate:N,surrenderReason:A,surrenderedByAnimalControl:k,volunteerId:e};x&&(t.microchipId={String:x,Valid:!0}),T()&&d(t,"/dog").then((function(e){var t=e.target;201===t.status?h({type:"showModal",payload:JSON.parse(t.response).id}):(console.log("error adding dog (non-201):",t.response),h({type:"errorMessage",payload:t.response}))})).catch((function(e){console.log("error adding dog (catch):",e),h({type:"errorMessage",payload:e})}))}},"Submit"),r.a.createElement("span",{style:{color:"red",paddingLeft:"10px"}},S)),M&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden"}},r.a.createElement("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:10,backgroundColor:"black",opacity:.5}}),r.a.createElement("div",{style:{position:"fixed",left:"50%",bottom:"50%",marginLeft:"-300px",marginBottom:"-150px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:100,height:"300px",width:"600px",backgroundColor:"white"}},r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("span",null,"Dog successfully created.")),r.a.createElement("div",{style:{margin:"20px"}},"Would you like to go to"),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return h({type:"dogDetail",payload:D})}},"Dog Detail View"),r.a.createElement("span",{style:{margin:"20px"}}," or "),r.a.createElement("button",{onClick:function(){return h({type:"dogDashboard"})}},"Back to Dog Dashboard")))))))},f=function(){var e=Object(n.useState)({data:[],errorMessage:"",cookie:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&e.isTrustedVolunteer&&l(Object(s.a)(Object(s.a)({},a),{},{cookie:e}))}),[]),Object(n.useEffect)((function(){a.cookie.hasOwnProperty("isTrustedVolunteer")&&a.cookie.isTrustedVolunteer&&m("/animal-control-report").then((function(e){var t=e.target;200===t.status?l(Object(s.a)(Object(s.a)({},a),{},{data:JSON.parse(t.response)})):l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:t.response}))})).catch((function(e){console.log(e),l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:JSON.stringify(e)}))}))}),[a.cookie]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{isTrustedVolunteer:a.cookie.isTrustedVolunteer}),r.a.createElement("h1",null,"Animal Control Report"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("td",null,"Month"),r.a.createElement("td",null,"Year"),r.a.createElement("td",null,"Total Dogs Count"),r.a.createElement("td",null,"Dogs 60 Days Count"),r.a.createElement("td",null,"Expenses")),r.a.createElement("tbody",null,a.data.length&&a.data.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.month),r.a.createElement("td",null,e.year),r.a.createElement("td",null,e.dogsTotalCount),r.a.createElement("td",null,e.dogsSixtyDaysCount),r.a.createElement("td",null,e.expenses))})))),a.errorMessage&&r.a.createElement("div",{styles:{color:"red"}},a.errorMessage))},y=function(e){var t=e.addApplication,a=e.addDog,n=e.availableSpaces,l=e.showAvailable,o=e.setShowAvailable,c=e.showUnavailable,i=e.setShowUnavailable;e.logout;return r.a.createElement("div",{className:"control-panel"},r.a.createElement("h3",null,"Currently Available Spaces: ",n),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("input",{type:"checkbox",checked:l,id:"showAvailable",onChange:o}),r.a.createElement("label",{htmlFor:"showAvailable",style:{paddingLeft:"10px"}},"Show dogs available for adoption")),r.a.createElement("p",null,r.a.createElement("input",{type:"checkbox",checked:c,id:"showUnavailable",onChange:i}),r.a.createElement("label",{htmlFor:"showUnavailable",style:{paddingLeft:"10px"}},"Show dogs NOT available for adoption"))),r.a.createElement("div",null,r.a.createElement("p",null,n&&r.a.createElement("button",{onClick:a},"Add Dog")),r.a.createElement("p",null,r.a.createElement("button",{onClick:t},"Add Adoption Application"))))},v=function(){var e=Object(n.useState)({dogs:[],addDogRedirect:!1,addApplicationRedirect:!1,showAvailable:!0,showUnavailable:!0,dogDetailRedirect:"",loginRedirect:!1,cookie:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&null!==e.isTrustedVolunteer&&l(Object(s.a)(Object(s.a)({},a),{},{cookie:e}))}),[]);Object(n.useEffect)((function(){a.cookie.hasOwnProperty("isTrustedVolunteer")&&null!==a.cookie.isTrustedVolunteer&&m("/dog?current=true").then((function(e){var t=e.target;l(Object(s.a)(Object(s.a)({},a),{},{dogs:JSON.parse(t.response)}))})).catch((function(e){console.log(e)}))}),[a.cookie]);var o=a.addApplicationRedirect,c=a.addDogRedirect,d=a.dogs,b=a.showAvailable,h=a.showUnavailable,g=a.dogDetailRedirect,f=a.cookie;return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(i.a,{to:{pathname:"/add-application",state:{from:"/dog-dashboard"}}}),c&&r.a.createElement(i.a,{to:{pathname:"/add-dog",state:{from:"/dog-dashboard"}}}),g&&r.a.createElement(i.a,{to:{pathname:g,state:{from:"/dog-dashboard"}}}),r.a.createElement(E,{isTrustedVolunteer:f.isTrustedVolunteer}),r.a.createElement("main",{className:"container"},r.a.createElement("h1",null,"Dog Dashboard"),r.a.createElement(y,{addApplication:function(){l(Object(s.a)(Object(s.a)({},a),{},{addApplicationRedirect:!0}))},addDog:function(){l(Object(s.a)(Object(s.a)({},a),{},{addDogRedirect:!0}))},availableSpaces:15-d.length,showAvailable:b,setShowAvailable:function(){l(Object(s.a)(Object(s.a)({},a),{},{showAvailable:!a.showAvailable}))},showUnavailable:h,setShowUnavailable:function(){l(Object(s.a)(Object(s.a)({},a),{},{showUnavailable:!a.showUnavailable}))}}),d.length?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Breed"),r.a.createElement("th",null,"Sex"),r.a.createElement("th",null,"Alteration Status"),r.a.createElement("th",null,"Age"),r.a.createElement("th",null,"Adoptability Status"),r.a.createElement("th",null,"Date Surrendered"))),r.a.createElement("tbody",null,d.map((function(e,t){var n=Date.now(),o=Date.parse(e.dateOfBirth),c=Math.floor((n-o)/31536e6),i="".concat(c).concat(!c||c>1?" years ":" year "),u=Math.floor((n-o)/2592e6)%12,d="".concat(u).concat(!u||u>1?" months":" month"),m=e.microchipId.String&&e.alterationStatus;return m&&b||!m&&h?r.a.createElement("tr",{key:t,onClick:function(){return l(Object(s.a)(Object(s.a)({},a),{},{dogDetailRedirect:"/dog-details/".concat(e.id)}))}},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.breed.join("/")),r.a.createElement("td",null,e.sex),r.a.createElement("td",null,e.alterationStatus?"Altered":"Not yet altered"),r.a.createElement("td",null,i,d),r.a.createElement("td",null,m?"Available":"Not yet available"),r.a.createElement("td",null,new Date(e.surrenderDate).toDateString())):null})))):r.a.createElement("h3",null,"There are not any dogs currently in the shelter.")))},O=a(21),j=a(10),x=function(){var e=Object(n.useState)({loginRedirect:!1,cookie:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&null!==e.isTrustedVolunteer&&l(Object(s.a)(Object(s.a)({},a),{},{cookie:e}))}),[]);var o=Object(i.h)().dogId,c=Object(n.useReducer)((function(e,t){switch(t.type){case"setDog":return Object(s.a)(Object(s.a)({},e),t.payload);case"sex":return Object(s.a)(Object(s.a)({},e),{},{sex:t.payload});case"alterationStatus":return Object(s.a)(Object(s.a)({},e),{},{alterationStatus:"true"===t.payload});case"microchipId":return Object(s.a)(Object(s.a)({},e),{},{microchipId:t.payload});case"expenses":return Object(s.a)(Object(s.a)({},e),{},{expenses:t.payload});case"availableBreeds":return Object(s.a)(Object(s.a)({},e),{},{availableBreeds:t.payload});case"errorMessage":return Object(s.a)(Object(s.a)({},e),{},{errorMessage:t.payload});case"showModal":return Object(s.a)(Object(s.a)({},e),{},{id:t.payload,showModal:!0});case"dogDashboard":return Object(s.a)(Object(s.a)({},e),{},{dashboardRedirect:!0});case"breed":var a=function(){if(t.payload.checked){if("Mixed"===t.payload.value||"Unknown"===t.payload.value){var a=Object.keys(e.breed).reduce((function(e,t){return e[t]=!1,e}),{});return Object(s.a)(Object(s.a)({},a),{},Object(j.a)({},t.payload.value,!0))}return Object(s.a)(Object(s.a)({},e.breed),{},Object(j.a)({},t.payload.value,!0))}return Object(s.a)(Object(s.a)({},e.breed),{},Object(j.a)({},t.payload.value,!1))}();return Object(s.a)(Object(s.a)({},e),{},{breed:a});case"canEditBreeds":return Object(s.a)(Object(s.a)({},e),{},{canEditBreeds:!0});case"canEditSex":return Object(s.a)(Object(s.a)({},e),{},{canEditSex:!0});case"canEditAlterationStatus":return Object(s.a)(Object(s.a)({},e),{},{canEditAlterationStatus:!0});case"canEditMicrochipId":return Object(s.a)(Object(s.a)({},e),{},{canEditMicrochipId:!0});case"showAddExpenseForm":return Object(s.a)(Object(s.a)({},e),{},{showAddExpenseForm:t.payload});case"newExpenseVendor":return Object(s.a)(Object(s.a)({},e),{},{newExpense:Object(s.a)(Object(s.a)({},e.newExpense),{},{vendor:t.payload})});case"newExpenseDate":return Object(s.a)(Object(s.a)({},e),{},{newExpense:Object(s.a)(Object(s.a)({},e.newExpense),{},{date:t.payload})});case"newExpenseAmount":return"number"!==typeof+t.payload||+t.payload<0?Object(s.a)(Object(s.a)({},e),{},{expenseErrorMessage:"Please enter a valid numeric amount."}):"Please enter a valid numeric amount."===e.expenseErrorMessage?Object(s.a)(Object(s.a)({},e),{},{expenseErrorMessage:""}):Object(s.a)(Object(s.a)({},e),{},{newExpense:Object(s.a)(Object(s.a)({},e.newExpense),{},{amountInCents:Math.floor(100*+t.payload)})});case"newExpenseDescription":return Object(s.a)(Object(s.a)({},e),{},{newExpense:Object(s.a)(Object(s.a)({},e.newExpense),{},{description:t.payload})});case"resetNewExpense":return Object(s.a)(Object(s.a)({},e),{},{newExpense:{dogIdFk:+o}});case"addExpense":return Object(s.a)(Object(s.a)({},e),{},{expenses:[].concat(Object(O.a)(e.expenses),[t.payload])});case"expenseErrorMessage":return Object(s.a)(Object(s.a)({},e),{},{expenseErrorMessage:t.payload});case"addAdoptionRedirect":return Object(s.a)(Object(s.a)({},e),{},{addAdoptionRedirect:!0});case"isAdoptable":return Object(s.a)(Object(s.a)({},e),{},{isAdoptable:!0});default:throw new Error}}),{name:"",breed:{},sex:null,alterationStatus:null,dateOfBirth:"",description:"",microchipId:"",surrenderDate:"",surrenderReason:"",surrenderedByAnimalControl:null,volunteerId:-1,expenses:[],errorMessage:"",showModal:!1,canEditBreeds:!1,canEditSex:!1,canEditAlterationStatus:!1,canEditMicrochipId:!1,showAddExpenseForm:!1,newExpense:{dogIdFk:+o},expenseErrorMessage:"",addAdoptionRedirect:!1,isAdoptable:!1}),b=Object(u.a)(c,2),h=b[0],g=b[1];Object(n.useEffect)((function(){if(a.cookie.hasOwnProperty("isTrustedVolunteer")&&null!==a.cookie.isTrustedVolunteer){var e={};m("/breed").then((function(t){var a=t.target;JSON.parse(a.response).forEach((function(t){e[t.breed]=!1}))})).then((function(){m("/dog/".concat(o)).then((function(t){var a=t.target,n=JSON.parse(a.response);n.breed.forEach((function(t){e[t]=!0})),n.breed=e,(n.breed.Unknown||n.breed.Mixed)&&g({type:"canEditBreeds"}),"unknown"===n.sex&&g({type:"canEditSex"}),n.alterationStatus||g({type:"canEditAlterationStatus"}),n.microchipId=n.microchipId.String,n.microchipId||g({type:"canEditMicrochipId"}),n.microchipId&&n.alterationStatus&&g({type:"isAdoptable"}),g({type:"setDog",payload:n})}))})).catch((function(e){g({type:"errorMessage",payload:e}),console.log("error calling the API:",e)}))}}),[o,a.cookie]);var f=function(e){var t=e.breed;return r.a.createElement("p",{key:t},r.a.createElement("input",{type:"checkbox",value:t,name:t.split(" ").join("-"),checked:h.breed[t],onChange:function(e){var t=e.target;g({type:"breed",payload:t})},disabled:(h.breed.Mixed||h.breed.Unknown)&&!("Mixed"===t||"Unknown"===t)}),r.a.createElement("label",{htmlFor:t,style:{display:"inline",paddingLeft:"10px"}},t))};return r.a.createElement(r.a.Fragment,null,h.dashboardRedirect&&r.a.createElement(i.a,{to:{pathname:"/dog-dashboard"}}),h.addAdoptionRedirect&&r.a.createElement(i.a,{to:{pathname:"/add-adoption",state:{dog:h}}}),r.a.createElement(E,{isTrustedVolunteer:a.cookie.isTrustedVolunteer}),r.a.createElement("main",{className:"container"},r.a.createElement("h1",null,"Dog Details"),r.a.createElement("button",{type:"button",onClick:function(){return g({type:"dogDashboard"})}},"Back to Dog Dashboard"),h.isAdoptable&&a.cookie.isTrustedVolunteer&&r.a.createElement("button",{type:"button",onClick:function(){return g({type:"addAdoptionRedirect"})}},"Add Adoption"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-unit"},r.a.createElement("span",null,"Name: ",h.name)),h.canEditBreeds?r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"breed"},"Dog Breed: (Please select at least one.)"),Object.keys(h.breed).map((function(e){return r.a.createElement(f,{breed:e,key:e})}))):r.a.createElement("div",{className:"form-unit"},r.a.createElement("span",null,"Breed: ",Object.keys(h.breed).filter((function(e){return h.breed[e]})).join("/"))),r.a.createElement("div",{className:"form-unit"},h.canEditSex?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"sex"},"Dog Sex:"),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"male",name:"sex",value:"male",onChange:function(e){var t=e.target;g({type:"sex",payload:t.value})},checked:"male"===h.sex}),r.a.createElement("label",{htmlFor:"male",style:{display:"inline"}},"Male")),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"female",name:"sex",value:"female",onChange:function(e){var t=e.target;g({type:"sex",payload:t.value})},checked:"female"===h.sex}),r.a.createElement("label",{htmlFor:"female",style:{display:"inline"}},"Female")),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"unknown",name:"sex",value:"unknown",onChange:function(e){var t=e.target;g({type:"sex",payload:t.value})},checked:"unknown"===h.sex}),r.a.createElement("label",{htmlFor:"unknown",style:{display:"inline"}},"Unknown"))):r.a.createElement("span",null,"Sex: ",h.sex)),r.a.createElement("div",{className:"form-unit"},h.canEditAlterationStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"alterationStatus"},"Dog Alteration Status:"),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"altered",name:"alterationStatus",value:!0,onChange:function(e){var t=e.target;g({type:"alterationStatus",payload:t.value})},checked:h.alterationStatus}),r.a.createElement("label",{htmlFor:"altered",style:{display:"inline"}},"Spayed/Neutered")),r.a.createElement("p",null,r.a.createElement("input",{type:"radio",id:"unaltered",name:"alterationStatus",value:!1,onChange:function(e){var t=e.target;g({type:"alterationStatus",payload:t.value})},checked:!h.alterationStatus}),r.a.createElement("label",{htmlFor:"unaltered",style:{display:"inline"}},"Unaltered"))):r.a.createElement("span",null,"Alteration Status: ",h.alterationStatus?"Spayed/Neutered":"Unaltered")),r.a.createElement("div",{className:"form-unit"},r.a.createElement("span",null,"Date of Birth: ",new Date(h.dateOfBirth).toDateString())),r.a.createElement("div",{className:"form-unit"},r.a.createElement("span",null,"Description: ",h.description)),r.a.createElement("div",{className:"form-unit"},h.canEditMicrochipId?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Microchip ID:"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target;g({type:"microchipId",payload:t.value})}})):r.a.createElement("span",null,"Microchip ID: ",h.microchipId)),r.a.createElement("div",{className:"form-unit"},r.a.createElement("span",null,"Surrender Date: ",new Date(h.surrenderDate).toDateString())),r.a.createElement("div",{className:"form-unit"},r.a.createElement("span",null,"Surrender Reason: ",h.surrenderReason)),r.a.createElement("div",{className:"form-unit"},r.a.createElement("span",null,"Surrender was by Animal Control: ",h.surrenderedByAnimalControl?"Yes":"No")),r.a.createElement("div",{className:"form-unit"},r.a.createElement("span",null,"Surrender recorded by volunteer ",h.volunteerId)),(h.canEditBreeds||h.canEditSex||h.canEditAlterationStatus||h.canEditMicrochipId)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){var e={breed:Object.keys(h.breed).filter((function(e){return h.breed[e]})),sex:h.sex,alterationStatus:h.alterationStatus};e.microchipId={String:h.microchipId,Valid:!!h.microchipId.length},Object.keys(h.breed).length?d(e,"/dog/".concat(o),"put").then((function(e){var t=e.target;204===t.status?location.reload():(console.log("error adding dog (non-200):",t.response),g({type:"errorMessage",payload:t.response}))})).catch((function(e){console.log("error adding dog (catch):",e),g({type:"errorMessage",payload:JSON.parse(e)})})):g({type:"errorMessage",payload:"Please select at least one dog breed."})}},"Update Dog"),r.a.createElement("span",{style:{color:"red",paddingLeft:"10px"}},h.errorMessage))),r.a.createElement("button",{type:"button",onClick:function(){return g({type:"dogDashboard"})}}," Back to Dog Dashboard"),r.a.createElement("hr",null),r.a.createElement("h1",null,"Expenses"),r.a.createElement("h3",null,"Dog Total : $",h.expenses.reduce((function(e,t){return e+t.amountInCents/100}),0)),h.showAddExpenseForm?r.a.createElement("div",null,r.a.createElement("h3",null,"New Expense"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{id:"expense-date"},"Date"),r.a.createElement("input",{type:"date",onChange:function(e){var t=e.target;return g({type:"newExpenseDate",payload:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{id:"expense-vendor"},"Vendor"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target;return g({type:"newExpenseVendor",payload:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{id:"expense-amount"},"Amount (in dollars)"),"$",r.a.createElement("input",{type:"number",step:.01,min:0,onChange:function(e){var t=e.target;"number"===typeof+t.value&&g({type:"newExpenseAmount",payload:t.value})}})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{id:"expense-description"},"Description"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target;return g({type:"newExpenseDescription",payload:t.value})}})),r.a.createElement("button",{type:"button",onClick:function(){d(h.newExpense,"/expense").then((function(e){var t=e.target;201===t.status?(g({type:"resetNewExpense"}),g({type:"showAddExpenseForm",payload:!1}),g({type:"addExpense",payload:JSON.parse(t.response)}),g({type:"expenseErrorMessage",payload:""})):(console.log(t.response),g({type:"expenseErrorMessage",payload:t.response}))})).catch((function(e){console.log(e),g({type:"expenseErrorMessage",payload:e})}))}},"Submit Expense"),h.expenseErrorMessage&&r.a.createElement("span",{style:{color:"red",paddingLeft:"10px"}},h.expenseErrorMessage))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){return g({type:"showAddExpenseForm",payload:!0})}},"Add New Expense"),h.expenseErrorMessage&&r.a.createElement("span",{style:{color:"red",paddingLeft:"10px"}},h.expenseErrorMessage)),h.expenses.length?h.expenses.map((function(e,t){return r.a.createElement("div",{key:t,className:"form-unit"},r.a.createElement("div",null,r.a.createElement("span",null,"Date: ",new Date(e.date).toDateString())),r.a.createElement("div",null,r.a.createElement("span",null,"Vendor: ",e.vendor)),r.a.createElement("div",null,r.a.createElement("span",null,"Description: ",e.description)),r.a.createElement("div",null,r.a.createElement("span",null,"Cost: $",e.amountInCents/100)))})):r.a.createElement("div",null,"No expenses entered yet.")))},N=function(){var e=Object(n.useState)({data:[],errorMessage:"",loginRedirect:!1,cookie:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&e.isTrustedVolunteer&&l(Object(s.a)(Object(s.a)({},a),{},{cookie:e}))}),[]),Object(n.useEffect)((function(){a.cookie.hasOwnProperty("isTrustedVolunteer")&&a.cookie.isTrustedVolunteer&&m("/expense-analysis").then((function(e){var t=e.target;200===t.status?l(Object(s.a)(Object(s.a)({},a),{},{data:JSON.parse(t.response)})):l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:t.response}))})).catch((function(e){console.log(e),l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:JSON.stringify(e)}))}))}),[a.cookie]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{isTrustedVolunteer:a.cookie.isTrustedVolunteer}),r.a.createElement("h1",null,"Expense Analysis"),a.data.length?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Vendor "),r.a.createElement("th",null,"Total Spending in dollars"))),r.a.createElement("tbody",null,a.data.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("th",null,e.vendor),r.a.createElement("th",null,e.totalSpending/100))})))):r.a.createElement("p",null,"No expenses found"),a.errorMessage&&r.a.createElement("div",{styles:{color:"red"}},a.errorMessage))},A=function(){var e=Object(n.useState)({email:"",password:"",errorMessage:"",redirect:!1}),t=Object(u.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){m("/logout").then((function(e){l(Object(s.a)(Object(s.a)({},a),{},{loginRedirect:!0}))})).catch((function(e){console.log(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{titleOnly:!0}),r.a.createElement("main",{className:"container"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{action:"/login",method:"post"},r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"email",id:"email",name:"email",onChange:function(e){var t=e.target;l(Object(s.a)(Object(s.a)({},a),{},{email:t.value}))},value:a.email,autoComplete:"username"})),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{type:"password",id:"password",name:"password",onChange:function(e){var t=e.target;l(Object(s.a)(Object(s.a)({},a),{},{password:t.value}))},value:a.password,autoComplete:"current-password"})),r.a.createElement("button",{type:"button",onClick:function(e){var t=a.email,n=a.password;n&&0!==t.indexOf("@")&&t.length>4?d({email:t,password:n},"/login").then((function(e){var t=e.target;if(200===t.status){var n=JSON.parse(t.response);localStorage.setItem("volunteerId",n.id),localStorage.setItem("isTrusted",n.isTrusted),l(Object(s.a)(Object(s.a)({},a),{},{redirect:!0}))}else l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:t.response}))})).catch((function(e){l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:e}))})):l(n?Object(s.a)(Object(s.a)({},a),{},{errorMessage:"Please enter valid email address."}):Object(s.a)(Object(s.a)({},a),{},{errorMessage:"Please enter valid password."}))}},"Log In")),a.errorMessage&&r.a.createElement("div",{style:{color:"red"}},a.errorMessage),a.redirect&&r.a.createElement(i.a,{to:{pathname:"/dog-dashboard",state:{from:"/login"}}})))};function k(e){var t=new Date;return t.setMonth(t.getMonth()+e),function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December";default:return"month"}}(t.getMonth())+" "+t.getFullYear()}var w=function(){var e=Object(n.useState)({data:{},errorMessage:"",loginRedirect:!1,cookie:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];function o(e){a.cookie.hasOwnProperty("isTrustedVolunteer")&&a.cookie.isTrustedVolunteer&&m("/monthly-adoption-report?month="+e).then((function(t){var n=t.target;if(200===n.status){var r=a.data;r[e]=JSON.parse(n.response),l(Object(s.a)(Object(s.a)({},a),{},{data:r}))}else l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:n.response}))})).catch((function(e){console.log(e),l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:JSON.stringify(e)}))}))}return Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&e.isTrustedVolunteer&&l(Object(s.a)(Object(s.a)({},a),{},{cookie:e}))}),[]),Object(n.useEffect)((function(){var e=0;for(e=-11;e<=0;e++)o(e)}),[a.cookie]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{isTrustedVolunteer:a.cookie.isTrustedVolunteer}),r.a.createElement("h1",null,"Monthly Adoption Report"),r.a.createElement("p",null,k(-18)),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("td",null,"Month"),r.a.createElement("td",null,"Breed"),r.a.createElement("td",null,"Surrender Count"),r.a.createElement("td",null,"Adoption Count"),r.a.createElement("td",null,"Expenses"),r.a.createElement("td",null,"Adoption Fees"),r.a.createElement("td",null,"Profit")),r.a.createElement("tbody",null,function(){var e=[],t=0;for(t=-11;t<=0;t++)e.push(t);return e.map((function(e){if(e in a.data)return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h3",null,k(e))),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null)),a.data[e].map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,e.breed),r.a.createElement("td",null,e.SurrenderCount.Float64),r.a.createElement("td",null,e.AdoptionCount.Float64),r.a.createElement("td",null,e.Expenses.Float64),r.a.createElement("td",null,e.AdoptionFees.Float64),r.a.createElement("td",null,e.Profit.Float64))})))}))}())),a.errorMessage&&r.a.createElement("div",{styles:{color:"red"}},a.errorMessage))},S=function(){var e=Object(n.useState)({cookie:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&e.isTrustedVolunteer&&l(Object(s.a)(Object(s.a)({},a),{},{cookie:e}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{isTrustedVolunteer:a.cookie.isTrustedVolunteer}),r.a.createElement("main",{className:"container"},r.a.createElement("h1",null,"Reports"),r.a.createElement("div",{className:"interior-block"},r.a.createElement("div",{className:"form-unit"},r.a.createElement(c.b,{to:"/monthly-adoption-report"},"Monthly Adoption Report")),r.a.createElement("div",{className:"form-unit"},r.a.createElement(c.b,{to:"/animal-control-report"},"Animal Control Report")),r.a.createElement("div",{className:"form-unit"},r.a.createElement(c.b,{to:"/expense-analysis"},"Expense Analysis")),r.a.createElement("div",{className:"form-unit"},r.a.createElement(c.b,{to:"/volunteer-lookup"},"Volunteer Lookup")))))},M=function(){var e=Object(n.useState)({loginRedirect:!1,cookie:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&e.isTrustedVolunteer&&l(Object(s.a)(Object(s.a)({},a),{},{cookie:e}))}),[]);var o=Object(n.useState)([]),c=Object(u.a)(o,2),b=c[0],h=c[1];Object(n.useEffect)((function(){a.cookie.hasOwnProperty("isTrustedVolunteer")&&a.cookie.isTrustedVolunteer&&m("/application?status=pending").then((function(e){var t=e.target;h(JSON.parse(t.response))})).catch((function(e){console.log(e)}))}),[a.cookie]);var g=function(e,t){var a=t?"true":"false";d(t,"/application/".concat(e,"?approve=").concat(a),"PUT").then((function(t){if(200===t.target.status){var a=b.filter((function(t){return t.id!==e}));h(a)}})).catch((function(e){console.log("Error updating application status: ",e)}))};return r.a.createElement(r.a.Fragment,null,a.loginRedirect&&r.a.createElement(i.a,{to:{pathname:"/login",state:{from:"/review-applications"}}}),r.a.createElement(E,{isTrustedVolunteer:a.cookie.isTrustedVolunteer}),r.a.createElement("main",{class:"container"},r.a.createElement("h1",null,"Review Applications"),b.length?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Street"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"State"),r.a.createElement("th",null,"Zip"),r.a.createElement("th",null,"Phone Number"),r.a.createElement("th",null,"Co-Applicant First Name"),r.a.createElement("th",null,"Co-Applicant Last Name"),r.a.createElement("th",null,"Decision"))),r.a.createElement("tbody",null,b.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.applicant.firstName),r.a.createElement("td",null,e.applicant.lastName),r.a.createElement("td",null,e.applicant.email),r.a.createElement("td",null,e.applicant.street),r.a.createElement("td",null,e.applicant.city),r.a.createElement("td",null,e.applicant.state),r.a.createElement("td",null,e.applicant.zip),r.a.createElement("td",null,e.applicant.phoneNumber),r.a.createElement("td",null,e.coApplicantFirstName),r.a.createElement("td",null,e.coApplicantLastName),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:function(){g(e.id,!0)}},"Approve"),r.a.createElement("button",{type:"button",onClick:function(){g(e.id,!1)}},"Reject")))})))):r.a.createElement("h3",null,"There are not any applications currently pending review.")))},C=function(){var e=Object(n.useState)({data:[],errorMessage:"",timeout:-1,cookie:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=p();e.hasOwnProperty("isTrustedVolunteer")&&e.isTrustedVolunteer&&l(Object(s.a)(Object(s.a)({},a),{},{cookie:e}))}),[]);var o=Object(n.useState)(""),c=Object(u.a)(o,2),i=c[0],d=c[1];Object(n.useEffect)((function(){a.cookie.hasOwnProperty("isTrustedVolunteer")&&a.cookie.isTrustedVolunteer&&m("/volunteer").then((function(e){var t=e.target;l(t?Object(s.a)(Object(s.a)({},a),{},{data:JSON.parse(t.response)}):Object(s.a)(Object(s.a)({},a),{},{errorMessage:t.response}))})).catch((function(e){console.log(e),l(Object(s.a)(Object(s.a)({},a),{},{errorMessage:JSON.stringify(e)}))}))}),[a.cookie]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{isTrustedVolunteer:a.cookie.isTrustedVolunteer}),r.a.createElement("h1",null,"Volunteer Lookup"),r.a.createElement("div",{className:"form-unit"},r.a.createElement("label",{htmlFor:"volunteer-name"},"Volunteer name:"),r.a.createElement("input",{type:"text",value:i,onChange:function(e){var t=e.target;d(t.value),clearTimeout(a.timeout);var n=setTimeout((function(){m("/volunteer?like=".concat(i)).then((function(e){var t=e.target;if(200===t.status){var n=JSON.parse(t.response);console.log(n),l(Object(s.a)(Object(s.a)({},a),{},{data:n}))}})).catch((function(e){console.log(e)})).finally((function(){console.log(a.data)}))}),600);l(Object(s.a)(Object(s.a)({},a),{},{timeout:n}))}})),a.data.length?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Phone Number"))),r.a.createElement("tbody",null,a.data.map((function(e){return r.a.createElement("tr",null,r.a.createElement("th",null,e.firstName),r.a.createElement("th",null,e.lastName),r.a.createElement("th",null,e.email),r.a.createElement("th",null,e.cell))})))):r.a.createElement("p",null," No volunteers found"),a.errorMessage&&r.a.createElement("div",{styles:{color:"red"}},a.errorMessage))};a(32);function F(){return r.a.createElement(c.a,null,r.a.createElement(D,null))}var D=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/add-adoption"},r.a.createElement(b,null)),r.a.createElement(i.b,{path:"/add-application"},r.a.createElement(h,null)),r.a.createElement(i.b,{path:"/add-dog"},r.a.createElement(g,null)),r.a.createElement(i.b,{path:"/animal-control-report"},r.a.createElement(f,null)),r.a.createElement(i.b,{path:"/dog-dashboard"},r.a.createElement(v,null)),r.a.createElement(i.b,{path:"/dog-details/:dogId"},r.a.createElement(x,null)),r.a.createElement(i.b,{path:"/expense-analysis"},r.a.createElement(N,null)),r.a.createElement(i.b,{path:"/monthly-adoption-report"},r.a.createElement(w,null)),r.a.createElement(i.b,{path:"/reports"},r.a.createElement(S,null)),r.a.createElement(i.b,{path:"/review-applications"},r.a.createElement(M,null)),r.a.createElement(i.b,{path:"/volunteer-lookup"},r.a.createElement(C,null)),r.a.createElement(i.b,{path:"/"},r.a.createElement(A,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.cc8eb0a5.chunk.js.map