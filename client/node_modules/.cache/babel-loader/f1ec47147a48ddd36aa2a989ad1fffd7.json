{"ast":null,"code":"var _jsxFileName = \"/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/src/containers/ReviewApplications.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { getData, sendData } from \"../services/api\";\n\nconst ReviewApplications = () => {\n  const [applications, setApplications] = useState([]);\n  useEffect(() => {\n    getData(\"/application?status=pending\").then(({\n      target\n    }) => {\n      setApplications(JSON.parse(target.response));\n    }).catch(error => {\n      console.log(error);\n    });\n    /* eslint-disable react-hooks/exhaustive-deps */\n  }, []);\n\n  const submitDecision = (applicationId, decision) => {\n    const updatedApplicationState = decision ? \"true\" : \"false\";\n    sendData(decision, `/application/${applicationId}?approve=${updatedApplicationState}`, \"PUT\").then(({\n      target\n    }) => {\n      if (target.status === 200) {\n        const remainingApplications = applications.filter(application => {\n          return application.id !== applicationId;\n        });\n        setApplications(remainingApplications);\n      }\n    }).catch(error => {\n      console.log(\"Error updating application status: \", error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"Review Applications\"), applications.length ? /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, \"Street\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }, \"State\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, \"Zip\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, \"Phone Number\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, \"Co-Applicant First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, \"Co-Applicant Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, \"Decision\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, applications.map(application => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: application.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 37\n      }\n    }, application.applicant.firstName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 37\n      }\n    }, application.applicant.lastName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 37\n      }\n    }, application.applicant.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 37\n      }\n    }, application.applicant.street), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 37\n      }\n    }, application.applicant.city), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 37\n      }\n    }, application.applicant.state), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 37\n      }\n    }, application.applicant.zip), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 37\n      }\n    }, application.applicant.phoneNumber), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 37\n      }\n    }, application.coApplicantFirstName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 37\n      }\n    }, application.coApplicantLastName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        submitDecision(application.id, true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 41\n      }\n    }, \"Approve\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        submitDecision(application.id, false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 41\n      }\n    }, \"Reject\")));\n  }))) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 18\n    }\n  }, \"There are not any applications currently pending review.\"));\n};\n\nexport default ReviewApplications;","map":{"version":3,"sources":["/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/src/containers/ReviewApplications.js"],"names":["React","useEffect","useState","getData","sendData","ReviewApplications","applications","setApplications","then","target","JSON","parse","response","catch","error","console","log","submitDecision","applicationId","decision","updatedApplicationState","status","remainingApplications","filter","application","id","length","map","applicant","firstName","lastName","email","street","city","state","zip","phoneNumber","coApplicantFirstName","coApplicantLastName"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { getData, sendData } from \"../services/api\";\n\nconst ReviewApplications = () => {\n\n    const [applications, setApplications] = useState([]);\n\n    useEffect(() => {\n        getData(\"/application?status=pending\")\n            .then(({ target }) => {\n                setApplications(JSON.parse(target.response));\n            })\n            .catch(error => {\n                console.log(error);\n            })\n        /* eslint-disable react-hooks/exhaustive-deps */\n    }, []);\n\n    const submitDecision = (applicationId, decision) => {\n        const updatedApplicationState = decision ? \"true\" : \"false\";\n        sendData(decision, `/application/${applicationId}?approve=${updatedApplicationState}`, \"PUT\")\n            .then(({ target }) => {\n                if (target.status === 200) {\n                    const remainingApplications = applications.filter(application => {\n                        return application.id !== applicationId;\n                    });\n                    setApplications(remainingApplications);\n                }\n\n            })\n            .catch(error => {\n                console.log(\"Error updating application status: \", error);\n            })\n    }\n\n    return (\n        <>\n            <h1>Review Applications</h1>\n            {applications.length ? (\n                <table>\n                    <thead>\n                        <tr>\n                            <th>First Name</th>\n                            <th>Last Name</th>\n                            <th>Email</th>\n                            <th>Street</th>\n                            <th>City</th>\n                            <th>State</th>\n                            <th>Zip</th>\n                            <th>Phone Number</th>\n                            <th>Co-Applicant First Name</th>\n                            <th>Co-Applicant Last Name</th>\n                            <th>Decision</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {applications.map(application => {\n                            return (\n                                <tr key={application.id}>\n                                    <td>{application.applicant.firstName}</td>\n                                    <td>{application.applicant.lastName}</td>\n                                    <td>{application.applicant.email}</td>\n                                    <td>{application.applicant.street}</td>\n                                    <td>{application.applicant.city}</td>\n                                    <td>{application.applicant.state}</td>\n                                    <td>{application.applicant.zip}</td>\n                                    <td>{application.applicant.phoneNumber}</td>\n                                    <td>{application.coApplicantFirstName}</td>\n                                    <td>{application.coApplicantLastName}</td>\n                                    <td>\n                                        <button type=\"button\" onClick={() => {\n                                            submitDecision(application.id, true);\n                                        }} >Approve</button>\n                                        <button type=\"button\" onClick={() => {\n                                            submitDecision(application.id, false);\n                                        }} >Reject</button>\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n\n                </table >\n            ) : (<h3>There are not any applications currently pending review.</h3>)\n            }\n        </>\n    );\n}\n\nexport default ReviewApplications;"]},"metadata":{},"sourceType":"module"}