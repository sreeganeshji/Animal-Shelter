{"ast":null,"code":"var _jsxFileName = \"/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/src/containers/DogDashboard.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { getData } from \"../services/api\";\nimport { Redirect } from \"react-router-dom\";\n\nconst DogDashboard = () => {\n  const CAPACITY = 15;\n  const [state, setState] = useState({\n    dogs: [],\n    addDogRedirect: false,\n    addApplicationRedirect: false,\n    showAvailable: true,\n    showUnavailable: true,\n    dogDetailRedirect: \"\"\n  });\n\n  const setShowAvailable = () => {\n    setState({ ...state,\n      showAvailable: !state.showAvailable\n    });\n  };\n\n  const setShowUnavailable = () => {\n    setState({ ...state,\n      showUnavailable: !state.showUnavailable\n    });\n  }; // get data for dogs currently in the shelter\n\n\n  useEffect(() => {\n    getData(\"/dog\").then(({\n      target\n    }) => {\n      setState({ ...state,\n        dogs: JSON.parse(target.response)\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    /* eslint-disable react-hooks/exhaustive-deps */\n  }, []);\n\n  const addApplication = () => {\n    setState({ ...state,\n      addApplicationRedirect: true\n    });\n  };\n\n  const addDog = () => {\n    setState({ ...state,\n      addDogRedirect: true\n    });\n  };\n\n  const {\n    addApplicationRedirect,\n    addDogRedirect,\n    dogs,\n    showAvailable,\n    showUnavailable,\n    dogDetailRedirect\n  } = state;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, addApplicationRedirect && /*#__PURE__*/React.createElement(Redirect, {\n    to: {\n      pathname: \"/add-application\",\n      state: {\n        from: \"/dog-dashboard\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 40\n    }\n  }), addDogRedirect && /*#__PURE__*/React.createElement(Redirect, {\n    to: {\n      pathname: \"/add-dog\",\n      state: {\n        from: \"/dog-dashboard\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 32\n    }\n  }), dogDetailRedirect && /*#__PURE__*/React.createElement(Redirect, {\n    to: {\n      pathname: dogDetailRedirect,\n      state: {\n        from: \"/dog-dashboard\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Dog Dashboard\"), /*#__PURE__*/React.createElement(ControlPanel, {\n    addApplication: addApplication,\n    addDog: addDog,\n    availableSpaces: CAPACITY - dogs.length,\n    showAvailable: showAvailable,\n    setShowAvailable: setShowAvailable,\n    showUnavailable: showUnavailable,\n    setShowUnavailable: setShowUnavailable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), dogs.length ? /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, \"Breed\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, \"Sex\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }\n  }, \"Alteration Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, \"Age\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }\n  }, \"Adoptability Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }, \"Date Surrendered\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, dogs.map((dog, index) => {\n    const ONE_DAY = 1000 * 60 * 60 * 24;\n    const now = Date.now();\n    const then = Date.parse(dog.dateOfBirth);\n    const years = Math.floor((now - then) / (ONE_DAY * 365));\n    const yearsStr = `${years}${!years || years > 1 ? \" years \" : \" year \"}`;\n    const months = Math.floor((now - then) / (ONE_DAY * 30)) % 12;\n    const monthsStr = `${months}${!months || months > 1 ? \" months\" : \" month\"}`;\n    const isAvailable = dog.microchipId.String && dog.alterationStatus;\n\n    if (isAvailable && showAvailable || !isAvailable && showUnavailable) {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        onClick: () => setState({ ...state,\n          dogDetailRedirect: `/dog-details/${dog.id}`\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 41\n        }\n      }, dog.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 41\n        }\n      }, dog.breed.join(\"/\")), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 41\n        }\n      }, dog.sex), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 41\n        }\n      }, dog.alterationStatus ? \"Altered\" : \"Not yet altered\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 41\n        }\n      }, yearsStr, monthsStr), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 41\n        }\n      }, dog.adoptabilityStatus ? \"Available\" : \"Not yet available\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 41\n        }\n      }, new Date(dog.surrenderDate).toDateString()));\n    }\n\n    return null;\n  }))) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 18\n    }\n  }, \"There are not any dogs currently in the shelter.\"));\n};\n\nconst ControlPanel = ({\n  addApplication,\n  addDog,\n  availableSpaces,\n  showAvailable,\n  setShowAvailable,\n  showUnavailable,\n  setShowUnavailable\n}) => {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"Currently Available Spaces: \", availableSpaces), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: showAvailable,\n    id: \"showAvailable\",\n    onChange: setShowAvailable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"showAvailable\",\n    style: {\n      paddingLeft: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, \"Show dogs available for adoption\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: showUnavailable,\n    id: \"showUnavailable\",\n    onChange: setShowUnavailable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"showUnavailable\",\n    style: {\n      paddingLeft: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, \"Show dogs NOT available for adoption\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, availableSpaces && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addDog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 41\n    }\n  }, \"Add Dog\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addApplication,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, \"Add Adoption Application\"))));\n};\n\nexport default DogDashboard;","map":{"version":3,"sources":["/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/src/containers/DogDashboard.js"],"names":["React","useEffect","useState","getData","Redirect","DogDashboard","CAPACITY","state","setState","dogs","addDogRedirect","addApplicationRedirect","showAvailable","showUnavailable","dogDetailRedirect","setShowAvailable","setShowUnavailable","then","target","JSON","parse","response","catch","error","console","log","addApplication","addDog","pathname","from","length","map","dog","index","ONE_DAY","now","Date","dateOfBirth","years","Math","floor","yearsStr","months","monthsStr","isAvailable","microchipId","String","alterationStatus","id","name","breed","join","sex","adoptabilityStatus","surrenderDate","toDateString","ControlPanel","availableSpaces","paddingLeft"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { getData } from \"../services/api\";\nimport { Redirect } from \"react-router-dom\";\n\nconst DogDashboard = () => {\n\n    const CAPACITY = 15;\n    const [state, setState] = useState({\n        dogs: [],\n        addDogRedirect: false,\n        addApplicationRedirect: false,\n        showAvailable: true,\n        showUnavailable: true,\n        dogDetailRedirect: \"\"\n    });\n\n    const setShowAvailable = () => {\n        setState({ ...state, showAvailable: !state.showAvailable });\n    }\n\n    const setShowUnavailable = () => {\n        setState({ ...state, showUnavailable: !state.showUnavailable });\n    }\n\n    // get data for dogs currently in the shelter\n    useEffect(() => {\n        getData(\"/dog\")\n            .then(({ target }) => {\n                setState({ ...state, dogs: JSON.parse(target.response) });\n            })\n            .catch(error => {\n                console.log(error);\n            })\n        /* eslint-disable react-hooks/exhaustive-deps */\n    }, []);\n\n    const addApplication = () => {\n        setState({ ...state, addApplicationRedirect: true });\n    }\n\n    const addDog = () => {\n        setState({ ...state, addDogRedirect: true });\n    }\n\n    const {\n        addApplicationRedirect,\n        addDogRedirect,\n        dogs,\n        showAvailable,\n        showUnavailable,\n        dogDetailRedirect\n    } = state;\n\n    return (\n        <>\n            {addApplicationRedirect && <Redirect to={{ pathname: \"/add-application\", state: { from: \"/dog-dashboard\" } }} />}\n            {addDogRedirect && <Redirect to={{ pathname: \"/add-dog\", state: { from: \"/dog-dashboard\" } }} />}\n            {dogDetailRedirect && <Redirect to={{ pathname: dogDetailRedirect, state: { from: \"/dog-dashboard\" } }} />}\n            <h1>Dog Dashboard</h1>\n            <ControlPanel\n                addApplication={addApplication}\n                addDog={addDog}\n                availableSpaces={CAPACITY - dogs.length}\n                showAvailable={showAvailable}\n                setShowAvailable={setShowAvailable}\n                showUnavailable={showUnavailable}\n                setShowUnavailable={setShowUnavailable}\n            />\n            {dogs.length ? (\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Breed</th>\n                            <th>Sex</th>\n                            <th>Alteration Status</th>\n                            <th>Age</th>\n                            <th>Adoptability Status</th>\n                            <th>Date Surrendered</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {dogs.map((dog, index) => {\n                            const ONE_DAY = 1000 * 60 * 60 * 24;\n                            const now = Date.now();\n                            const then = Date.parse(dog.dateOfBirth);\n                            const years = Math.floor((now - then) / (ONE_DAY * 365));\n                            const yearsStr = `${years}${!years || years > 1 ? \" years \" : \" year \"}`;\n                            const months = Math.floor((now - then) / (ONE_DAY * 30)) % 12;\n                            const monthsStr = `${months}${!months || months > 1 ? \" months\" : \" month\"}`;\n                            const isAvailable = dog.microchipId.String && dog.alterationStatus;\n                            if ((isAvailable && showAvailable) || (!isAvailable && showUnavailable)) {\n                                return (\n                                    <tr key={index} onClick={() => setState({ ...state, dogDetailRedirect: `/dog-details/${dog.id}` })}>\n                                        <td>{dog.name}</td>\n                                        <td>{dog.breed.join(\"/\")}</td>\n                                        <td>{dog.sex}</td>\n                                        <td>{dog.alterationStatus ? \"Altered\" : \"Not yet altered\"}</td>\n                                        <td>{yearsStr}{monthsStr}</td>\n                                        <td>{dog.adoptabilityStatus ? \"Available\" : \"Not yet available\"}</td>\n                                        <td>{(new Date(dog.surrenderDate)).toDateString()}</td>\n                                    </tr>\n                                );\n                            }\n                            return null;\n                        })}\n                    </tbody>\n\n                </table>\n            ) : (<h3>There are not any dogs currently in the shelter.</h3>)\n            }\n\n        </>\n    );\n}\n\nconst ControlPanel = ({\n    addApplication,\n    addDog,\n    availableSpaces,\n    showAvailable,\n    setShowAvailable,\n    showUnavailable,\n    setShowUnavailable\n}) => {\n    return (\n        <>\n            <h3>Currently Available Spaces: {availableSpaces}</h3>\n            <div>\n                <p>\n                    <input\n                        type=\"checkbox\"\n                        checked={showAvailable}\n                        id=\"showAvailable\"\n                        onChange={setShowAvailable}\n                    />\n                    <label\n                        htmlFor=\"showAvailable\"\n                        style={{ paddingLeft: \"10px\" }}\n                    >Show dogs available for adoption</label>\n                </p>\n                <p>\n                    <input\n                        type=\"checkbox\"\n                        checked={showUnavailable}\n                        id=\"showUnavailable\"\n                        onChange={setShowUnavailable}\n                    />\n                    <label\n                        htmlFor=\"showUnavailable\"\n                        style={{ paddingLeft: \"10px\" }}\n                    >Show dogs NOT available for adoption</label>\n                </p>\n            </div>\n            <div>\n                <p>\n                    {availableSpaces && <button onClick={addDog}>Add Dog</button>}\n                </p>\n                <p>\n                    <button onClick={addApplication}>Add Adoption Application</button>\n                </p>\n\n            </div>\n\n        </>\n    )\n}\n\nexport default DogDashboard;"]},"metadata":{},"sourceType":"module"}