{"ast":null,"code":"import _toConsumableArray from\"/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useReducer,useState}from\"react\";import{useParams,Redirect}from\"react-router-dom\";import{getData,sendData}from\"../services/api\";import{isLoggedIn}from\"../services/auth\";import{NavLinks}from\"../components\";var DogDetails=function DogDetails(){var _useState=useState({loginRedirect:false,cookie:{}}),_useState2=_slicedToArray(_useState,2),pageState=_useState2[0],setPageState=_useState2[1];// check auth\nuseEffect(function(){var cookie=isLoggedIn();if(cookie.hasOwnProperty(\"isTrustedVolunteer\")&&cookie.isTrustedVolunteer!==null){setPageState(_objectSpread(_objectSpread({},pageState),{},{cookie:cookie}));}/* eslint-disable react-hooks/exhaustive-deps */},[]);var _useParams=useParams(),dogId=_useParams.dogId;var reducer=function reducer(state,action){switch(action.type){case\"setDog\":return _objectSpread(_objectSpread({},state),action.payload);case\"sex\":return _objectSpread(_objectSpread({},state),{},{sex:action.payload});case\"alterationStatus\":return _objectSpread(_objectSpread({},state),{},{alterationStatus:action.payload===\"true\"});case\"microchipId\":return _objectSpread(_objectSpread({},state),{},{microchipId:action.payload});case\"expenses\":return _objectSpread(_objectSpread({},state),{},{expenses:action.payload});case\"availableBreeds\":return _objectSpread(_objectSpread({},state),{},{availableBreeds:action.payload});case\"errorMessage\":return _objectSpread(_objectSpread({},state),{},{errorMessage:action.payload});case\"showModal\":return _objectSpread(_objectSpread({},state),{},{id:action.payload,showModal:true});case\"dogDashboard\":return _objectSpread(_objectSpread({},state),{},{dashboardRedirect:true});case\"breed\":var newBreed=function(){if(action.payload.checked){if(action.payload.value===\"Mixed\"||action.payload.value===\"Unknown\"){var falseBreeds=Object.keys(state.breed).reduce(function(breeds,breed){breeds[breed]=false;return breeds;},{});return _objectSpread(_objectSpread({},falseBreeds),{},_defineProperty({},action.payload.value,true));}else{return _objectSpread(_objectSpread({},state.breed),{},_defineProperty({},action.payload.value,true));}}else{return _objectSpread(_objectSpread({},state.breed),{},_defineProperty({},action.payload.value,false));}}();return _objectSpread(_objectSpread({},state),{},{breed:newBreed});case\"canEditBreeds\":return _objectSpread(_objectSpread({},state),{},{canEditBreeds:true});case\"canEditSex\":return _objectSpread(_objectSpread({},state),{},{canEditSex:true});case\"canEditAlterationStatus\":return _objectSpread(_objectSpread({},state),{},{canEditAlterationStatus:true});case\"canEditMicrochipId\":return _objectSpread(_objectSpread({},state),{},{canEditMicrochipId:true});case\"showAddExpenseForm\":return _objectSpread(_objectSpread({},state),{},{showAddExpenseForm:action.payload});case\"newExpenseVendor\":return _objectSpread(_objectSpread({},state),{},{newExpense:_objectSpread(_objectSpread({},state.newExpense),{},{vendor:action.payload})});case\"newExpenseDate\":return _objectSpread(_objectSpread({},state),{},{newExpense:_objectSpread(_objectSpread({},state.newExpense),{},{date:action.payload})});case\"newExpenseAmount\":if(typeof+action.payload!==\"number\"||+action.payload<0){return _objectSpread(_objectSpread({},state),{},{expenseErrorMessage:\"Please enter a valid numeric amount.\"});}else{if(state.expenseErrorMessage===\"Please enter a valid numeric amount.\"){return _objectSpread(_objectSpread({},state),{},{expenseErrorMessage:\"\"});}}return _objectSpread(_objectSpread({},state),{},{newExpense:_objectSpread(_objectSpread({},state.newExpense),{},{amountInCents:Math.floor(+action.payload*100)})});case\"newExpenseDescription\":return _objectSpread(_objectSpread({},state),{},{newExpense:_objectSpread(_objectSpread({},state.newExpense),{},{description:action.payload})});case\"resetNewExpense\":return _objectSpread(_objectSpread({},state),{},{newExpense:{dogIdFk:dogId}});case\"addExpense\":return _objectSpread(_objectSpread({},state),{},{expenses:[].concat(_toConsumableArray(state.expenses),[action.payload])});case\"expenseErrorMessage\":return _objectSpread(_objectSpread({},state),{},{expenseErrorMessage:action.payload});case\"addAdoptionRedirect\":return _objectSpread(_objectSpread({},state),{},{addAdoptionRedirect:true});case\"isAdoptable\":return _objectSpread(_objectSpread({},state),{},{isAdoptable:true});default:throw new Error();}};var _useReducer=useReducer(reducer,{name:\"\",breed:{},sex:null,alterationStatus:null,dateOfBirth:\"\",description:\"\",microchipId:\"\",surrenderDate:\"\",surrenderReason:\"\",surrenderedByAnimalControl:null,volunteerId:-1,expenses:[],errorMessage:\"\",showModal:false,canEditBreeds:false,canEditSex:false,canEditAlterationStatus:false,canEditMicrochipId:false,showAddExpenseForm:false,newExpense:{dogIdFk:dogId},expenseErrorMessage:\"\",addAdoptionRedirect:false,isAdoptable:false}),_useReducer2=_slicedToArray(_useReducer,2),dog=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){if(pageState.cookie.hasOwnProperty(\"isTrustedVolunteer\")&&pageState.cookie.isTrustedVolunteer!==null){var breedsObj={};getData(\"/breed\").then(function(_ref){var target=_ref.target;JSON.parse(target.response).forEach(function(breed){breedsObj[breed.breed]=false;});}).then(function(){getData(\"/dog/\".concat(dogId)).then(function(_ref2){var target=_ref2.target;var dog=JSON.parse(target.response);dog.breed.forEach(function(breed){breedsObj[breed]=true;});dog.breed=breedsObj;// derive permissions\nif(dog.breed[\"Unknown\"]||dog.breed[\"Mixed\"]){dispatch({type:\"canEditBreeds\"});}if(dog.sex===\"unknown\"){dispatch({type:\"canEditSex\"});}if(!dog.alterationStatus){dispatch({type:\"canEditAlterationStatus\"});}dog.microchipId=dog.microchipId.String;if(!dog.microchipId){dispatch({type:\"canEditMicrochipId\"});}if(dog.microchipId&&dog.alterationStatus){dispatch({type:\"isAdoptable\"});}// set dog\ndispatch({type:\"setDog\",payload:dog});});}).catch(function(error){dispatch({type:\"errorMessage\",payload:error});console.log(\"error calling the API:\",error);});}},[dogId,pageState.cookie]);var updateDog=function updateDog(){var dogData={breed:Object.keys(dog.breed).filter(function(breed){return dog.breed[breed];}),sex:dog.sex,alterationStatus:dog.alterationStatus};dogData.microchipId={\"String\":dog.microchipId,\"Valid\":dog.microchipId.length?true:false};if(!Object.keys(dog.breed).length){dispatch({type:\"errorMessage\",payload:\"Please select at least one dog breed.\"});return;}sendData(dogData,\"/dog/\".concat(dogId),\"put\").then(function(_ref3){var target=_ref3.target;if(target.status===204){// show success modal\n/* eslint-disable no-restricted-globals */location.reload();}else{console.log(\"error adding dog (non-200):\",target.response);dispatch({type:\"errorMessage\",payload:target.response});}}).catch(function(error){// show error modal\nconsole.log(\"error adding dog (catch):\",error);dispatch({type:\"errorMessage\",payload:JSON.parse(error)});});};var addExpense=function addExpense(){sendData(dog.newExpense,\"/expense\").then(function(_ref4){var target=_ref4.target;if(target.status===201){dispatch({type:\"resetNewExpense\"});dispatch({type:\"showAddExpenseForm\",payload:false});dispatch({type:\"addExpense\",payload:JSON.parse(target.response)});dispatch({type:\"expenseErrorMessage\",payload:\"\"});}else{console.log(target.response);dispatch({type:\"expenseErrorMessage\",payload:target.response});}}).catch(function(error){console.log(error);dispatch({type:\"expenseErrorMessage\",payload:error});});};var Checkbox=function Checkbox(_ref5){var breed=_ref5.breed;return/*#__PURE__*/React.createElement(\"p\",{key:breed},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",value:breed,name:breed.split(\" \").join(\"-\"),checked:dog.breed[breed],onChange:function onChange(_ref6){var target=_ref6.target;dispatch({type:'breed',payload:target});},disabled:(dog.breed[\"Mixed\"]||dog.breed[\"Unknown\"])&&!(breed===\"Mixed\"||breed===\"Unknown\")}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:breed,style:{display:\"inline\",paddingLeft:\"10px\"}},breed));};return/*#__PURE__*/React.createElement(React.Fragment,null,dog.dashboardRedirect&&/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/dog-dashboard\"}}),dog.addAdoptionRedirect&&/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/add-adoption\",state:{dog:dog}}}),/*#__PURE__*/React.createElement(NavLinks,{isTrustedVolunteer:pageState.cookie.isTrustedVolunteer}),/*#__PURE__*/React.createElement(\"main\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Dog Details\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return dispatch({type:\"dogDashboard\"});}},\"Back to Dog Dashboard\"),dog.isAdoptable&&pageState.cookie.isTrustedVolunteer&&/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return dispatch({type:\"addAdoptionRedirect\"});}},\"Add Adoption\"),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"span\",null,\"Name: \",dog.name)),dog.canEditBreeds?/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"breed\"},\"Dog Breed: (Please select at least one.)\"),Object.keys(dog.breed).map(function(b){return/*#__PURE__*/React.createElement(Checkbox,{breed:b,key:b});})):/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"span\",null,\"Breed: \",Object.keys(dog.breed).filter(function(breed){return dog.breed[breed];}).join(\"/\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},dog.canEditSex?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"sex\"},\"Dog Sex:\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",id:\"male\",name:\"sex\",value:\"male\",onChange:function onChange(_ref7){var target=_ref7.target;dispatch({type:\"sex\",payload:target.value});},checked:dog.sex===\"male\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"male\",style:{display:\"inline\"}},\"Male\")),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",id:\"female\",name:\"sex\",value:\"female\",onChange:function onChange(_ref8){var target=_ref8.target;dispatch({type:\"sex\",payload:target.value});},checked:dog.sex===\"female\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"female\",style:{display:\"inline\"}},\"Female\")),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",id:\"unknown\",name:\"sex\",value:\"unknown\",onChange:function onChange(_ref9){var target=_ref9.target;dispatch({type:'sex',payload:target.value});},checked:dog.sex===\"unknown\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"unknown\",style:{display:\"inline\"}},\"Unknown\"))):/*#__PURE__*/React.createElement(\"span\",null,\"Sex: \",dog.sex)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},dog.canEditAlterationStatus?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"alterationStatus\"},\"Dog Alteration Status:\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",id:\"altered\",name:\"alterationStatus\",value:true,onChange:function onChange(_ref10){var target=_ref10.target;dispatch({type:'alterationStatus',payload:target.value});},checked:dog.alterationStatus}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"altered\",style:{display:\"inline\"}},\"Spayed/Neutered\")),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",id:\"unaltered\",name:\"alterationStatus\",value:false,onChange:function onChange(_ref11){var target=_ref11.target;dispatch({type:'alterationStatus',payload:target.value});},checked:!dog.alterationStatus}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"unaltered\",style:{display:\"inline\"}},\"Unaltered\"))):/*#__PURE__*/React.createElement(\"span\",null,\"Alteration Status: \",dog.alterationStatus?\"Spayed/Neutered\":\"Unaltered\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"span\",null,\"Date of Birth: \",new Date(dog.dateOfBirth).toDateString())),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"span\",null,\"Description: \",dog.description)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},dog.canEditMicrochipId?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"label\",null,\"Microchip ID:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:function onChange(_ref12){var target=_ref12.target;dispatch({type:\"microchipId\",payload:target.value});}})):/*#__PURE__*/React.createElement(\"span\",null,\"Microchip ID: \",dog.microchipId)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"span\",null,\"Surrender Date: \",new Date(dog.surrenderDate).toDateString())),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"span\",null,\"Surrender Reason: \",dog.surrenderReason)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"span\",null,\"Surrender was by Animal Control: \",dog.surrenderedByAnimalControl?\"Yes\":\"No\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"span\",null,\"Surrender recorded by volunteer \",dog.volunteerId)),(dog.canEditBreeds||dog.canEditSex||dog.canEditAlterationStatus||dog.canEditMicrochipId)&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:updateDog},\"Update Dog\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\",paddingLeft:\"10px\"}},dog.errorMessage))),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return dispatch({type:\"dogDashboard\"});}},\" Back to Dog Dashboard\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"h1\",null,\"Expenses\"),/*#__PURE__*/React.createElement(\"h3\",null,\"Dog Total : $\",dog.expenses.reduce(function(totalExpense,currentExpense){return totalExpense+=currentExpense.amountInCents/100;},0)),dog.showAddExpenseForm?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"New Expense\"),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"label\",{id:\"expense-date\"},\"Date\"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",onChange:function onChange(_ref13){var target=_ref13.target;return dispatch({type:\"newExpenseDate\",payload:target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"label\",{id:\"expense-vendor\"},\"Vendor\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:function onChange(_ref14){var target=_ref14.target;return dispatch({type:\"newExpenseVendor\",payload:target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"label\",{id:\"expense-amount\"},\"Amount (in dollars)\"),\"$\",/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:0.01,min:0,onChange:function onChange(_ref15){var target=_ref15.target;if(typeof+target.value===\"number\"){dispatch({type:\"newExpenseAmount\",payload:target.value});}}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-unit\"},/*#__PURE__*/React.createElement(\"label\",{id:\"expense-description\"},\"Description\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:function onChange(_ref16){var target=_ref16.target;return dispatch({type:\"newExpenseDescription\",payload:target.value});}})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:addExpense},\"Submit Expense\"),dog.expenseErrorMessage&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\",paddingLeft:\"10px\"}},dog.expenseErrorMessage))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return dispatch({type:\"showAddExpenseForm\",payload:true});}},\"Add New Expense\"),dog.expenseErrorMessage&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\",paddingLeft:\"10px\"}},dog.expenseErrorMessage)),dog.expenses.length?dog.expenses.map(function(expense,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"form-unit\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Date: \",new Date(expense.date).toDateString())),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Vendor: \",expense.vendor)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Description: \",expense.description)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Cost: $\",expense.amountInCents/100)));}):/*#__PURE__*/React.createElement(\"div\",null,\"No expenses entered yet.\")));};export default DogDetails;","map":{"version":3,"sources":["/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/src/containers/DogDetails.js"],"names":["React","useEffect","useReducer","useState","useParams","Redirect","getData","sendData","isLoggedIn","NavLinks","DogDetails","loginRedirect","cookie","pageState","setPageState","hasOwnProperty","isTrustedVolunteer","dogId","reducer","state","action","type","payload","sex","alterationStatus","microchipId","expenses","availableBreeds","errorMessage","id","showModal","dashboardRedirect","newBreed","checked","value","falseBreeds","Object","keys","breed","reduce","breeds","canEditBreeds","canEditSex","canEditAlterationStatus","canEditMicrochipId","showAddExpenseForm","newExpense","vendor","date","expenseErrorMessage","amountInCents","Math","floor","description","dogIdFk","addAdoptionRedirect","isAdoptable","Error","name","dateOfBirth","surrenderDate","surrenderReason","surrenderedByAnimalControl","volunteerId","dog","dispatch","breedsObj","then","target","JSON","parse","response","forEach","String","catch","error","console","log","updateDog","dogData","filter","length","status","location","reload","addExpense","Checkbox","split","join","display","paddingLeft","pathname","map","b","Date","toDateString","color","totalExpense","currentExpense","expense","index"],"mappings":"qxBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,kBAApC,CAEA,OAASC,OAAT,CAAkBC,QAAlB,KAAkC,iBAAlC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,QAAT,KAAyB,eAAzB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,eAEaP,QAAQ,CAAC,CACvCQ,aAAa,CAAE,KADwB,CAEvCC,MAAM,CAAE,EAF+B,CAAD,CAFrB,wCAEdC,SAFc,eAEHC,YAFG,eAOrB;AACAb,SAAS,CAAC,UAAM,CACZ,GAAMW,CAAAA,MAAM,CAAGJ,UAAU,EAAzB,CACA,GAAII,MAAM,CAACG,cAAP,CAAsB,oBAAtB,GAA+CH,MAAM,CAACI,kBAAP,GAA8B,IAAjF,CAAuF,CACnFF,YAAY,gCAAMD,SAAN,MAAiBD,MAAM,CAANA,MAAjB,GAAZ,CACH,CACD,gDACH,CANQ,CAMN,EANM,CAAT,CARqB,eAgBHR,SAAS,EAhBN,CAgBba,KAhBa,YAgBbA,KAhBa,CAkBrB,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAC/B,OAAQA,MAAM,CAACC,IAAf,EACI,IAAK,QAAL,CACI,sCAAYF,KAAZ,EAAsBC,MAAM,CAACE,OAA7B,EACJ,IAAK,KAAL,CACI,sCAAYH,KAAZ,MAAmBI,GAAG,CAAEH,MAAM,CAACE,OAA/B,GACJ,IAAK,kBAAL,CACI,sCAAYH,KAAZ,MAAmBK,gBAAgB,CAAEJ,MAAM,CAACE,OAAP,GAAmB,MAAxD,GACJ,IAAK,aAAL,CACI,sCAAYH,KAAZ,MAAmBM,WAAW,CAAEL,MAAM,CAACE,OAAvC,GACJ,IAAK,UAAL,CACI,sCAAYH,KAAZ,MAAmBO,QAAQ,CAAEN,MAAM,CAACE,OAApC,GACJ,IAAK,iBAAL,CACI,sCAAYH,KAAZ,MAAmBQ,eAAe,CAAEP,MAAM,CAACE,OAA3C,GACJ,IAAK,cAAL,CACI,sCAAYH,KAAZ,MAAmBS,YAAY,CAAER,MAAM,CAACE,OAAxC,GACJ,IAAK,WAAL,CACI,sCAAYH,KAAZ,MAAmBU,EAAE,CAAET,MAAM,CAACE,OAA9B,CAAuCQ,SAAS,CAAE,IAAlD,GACJ,IAAK,cAAL,CACI,sCAAYX,KAAZ,MAAmBY,iBAAiB,CAAE,IAAtC,GACJ,IAAK,OAAL,CACI,GAAMC,CAAAA,QAAQ,CAAI,UAAM,CACpB,GAAIZ,MAAM,CAACE,OAAP,CAAeW,OAAnB,CAA4B,CACxB,GAAIb,MAAM,CAACE,OAAP,CAAeY,KAAf,GAAyB,OAAzB,EAAoCd,MAAM,CAACE,OAAP,CAAeY,KAAf,GAAyB,SAAjE,CAA4E,CACxE,GAAMC,CAAAA,WAAW,CAAGC,MAAM,CAACC,IAAP,CAAYlB,KAAK,CAACmB,KAAlB,EAAyBC,MAAzB,CAAgC,SAACC,MAAD,CAASF,KAAT,CAAmB,CACnEE,MAAM,CAACF,KAAD,CAAN,CAAgB,KAAhB,CACA,MAAOE,CAAAA,MAAP,CACH,CAHmB,CAGjB,EAHiB,CAApB,CAIA,sCAAYL,WAAZ,wBAA0Bf,MAAM,CAACE,OAAP,CAAeY,KAAzC,CAAiD,IAAjD,GACH,CAND,IAMO,CACH,sCAAYf,KAAK,CAACmB,KAAlB,wBAA0BlB,MAAM,CAACE,OAAP,CAAeY,KAAzC,CAAiD,IAAjD,GACH,CACJ,CAVD,IAUO,CACH,sCAAYf,KAAK,CAACmB,KAAlB,wBAA0BlB,MAAM,CAACE,OAAP,CAAeY,KAAzC,CAAiD,KAAjD,GACH,CACJ,CAdgB,EAAjB,CAeA,sCAAYf,KAAZ,MAAmBmB,KAAK,CAAEN,QAA1B,GACJ,IAAK,eAAL,CACI,sCAAYb,KAAZ,MAAmBsB,aAAa,CAAE,IAAlC,GACJ,IAAK,YAAL,CACI,sCAAYtB,KAAZ,MAAmBuB,UAAU,CAAE,IAA/B,GACJ,IAAK,yBAAL,CACI,sCAAYvB,KAAZ,MAAmBwB,uBAAuB,CAAE,IAA5C,GACJ,IAAK,oBAAL,CACI,sCAAYxB,KAAZ,MAAmByB,kBAAkB,CAAE,IAAvC,GACJ,IAAK,oBAAL,CACI,sCAAYzB,KAAZ,MAAmB0B,kBAAkB,CAAEzB,MAAM,CAACE,OAA9C,GACJ,IAAK,kBAAL,CACI,sCAAYH,KAAZ,MAAmB2B,UAAU,gCAAQ3B,KAAK,CAAC2B,UAAd,MAA2BC,MAAM,CAAE3B,MAAM,CAACE,OAA1C,EAA7B,GACJ,IAAK,gBAAL,CACI,sCAAYH,KAAZ,MAAmB2B,UAAU,gCAAQ3B,KAAK,CAAC2B,UAAd,MAA2BE,IAAI,CAAE5B,MAAM,CAACE,OAAxC,EAA7B,GACJ,IAAK,kBAAL,CACI,GAAI,MAAO,CAACF,MAAM,CAACE,OAAf,GAA2B,QAA3B,EAAuC,CAACF,MAAM,CAACE,OAAR,CAAkB,CAA7D,CAAgE,CAC5D,sCAAYH,KAAZ,MAAmB8B,mBAAmB,CAAE,sCAAxC,GACH,CAFD,IAEO,CACH,GAAI9B,KAAK,CAAC8B,mBAAN,GAA8B,sCAAlC,CAA0E,CACtE,sCAAY9B,KAAZ,MAAmB8B,mBAAmB,CAAE,EAAxC,GACH,CACJ,CACD,sCAAY9B,KAAZ,MAAmB2B,UAAU,gCAAQ3B,KAAK,CAAC2B,UAAd,MAA2BI,aAAa,CAAEC,IAAI,CAACC,KAAL,CAAW,CAAChC,MAAM,CAACE,OAAR,CAAkB,GAA7B,CAA1C,EAA7B,GACJ,IAAK,uBAAL,CACI,sCAAYH,KAAZ,MAAmB2B,UAAU,gCAAQ3B,KAAK,CAAC2B,UAAd,MAA2BO,WAAW,CAAEjC,MAAM,CAACE,OAA/C,EAA7B,GACJ,IAAK,iBAAL,CACI,sCAAYH,KAAZ,MAAmB2B,UAAU,CAAE,CAAEQ,OAAO,CAAErC,KAAX,CAA/B,GACJ,IAAK,YAAL,CACI,sCAAYE,KAAZ,MAAmBO,QAAQ,8BAAOP,KAAK,CAACO,QAAb,GAAwBN,MAAM,CAACE,OAA/B,EAA3B,GACJ,IAAK,qBAAL,CACI,sCAAYH,KAAZ,MAAmB8B,mBAAmB,CAAE7B,MAAM,CAACE,OAA/C,GACJ,IAAK,qBAAL,CACI,sCAAYH,KAAZ,MAAmBoC,mBAAmB,CAAE,IAAxC,GACJ,IAAK,aAAL,CACI,sCAAYpC,KAAZ,MAAmBqC,WAAW,CAAE,IAAhC,GACJ,QACI,KAAM,IAAIC,CAAAA,KAAJ,EAAN,CAxER,CA0EH,CA3ED,CAlBqB,gBA+FGvD,UAAU,CAC9BgB,OAD8B,CAE9B,CACIwC,IAAI,CAAE,EADV,CAEIpB,KAAK,CAAE,EAFX,CAGIf,GAAG,CAAE,IAHT,CAIIC,gBAAgB,CAAE,IAJtB,CAKImC,WAAW,CAAE,EALjB,CAMIN,WAAW,CAAE,EANjB,CAOI5B,WAAW,CAAE,EAPjB,CAQImC,aAAa,CAAE,EARnB,CASIC,eAAe,CAAE,EATrB,CAUIC,0BAA0B,CAAE,IAVhC,CAWIC,WAAW,CAAE,CAAC,CAXlB,CAYIrC,QAAQ,CAAE,EAZd,CAaIE,YAAY,CAAE,EAblB,CAcIE,SAAS,CAAE,KAdf,CAeIW,aAAa,CAAE,KAfnB,CAgBIC,UAAU,CAAE,KAhBhB,CAiBIC,uBAAuB,CAAE,KAjB7B,CAkBIC,kBAAkB,CAAE,KAlBxB,CAmBIC,kBAAkB,CAAE,KAnBxB,CAoBIC,UAAU,CAAE,CAAEQ,OAAO,CAAErC,KAAX,CApBhB,CAqBIgC,mBAAmB,CAAE,EArBzB,CAsBIM,mBAAmB,CAAE,KAtBzB,CAuBIC,WAAW,CAAE,KAvBjB,CAF8B,CA/Fb,4CA+FdQ,GA/Fc,iBA+FTC,QA/FS,iBA2HrBhE,SAAS,CAAC,UAAM,CACZ,GAAIY,SAAS,CAACD,MAAV,CAAiBG,cAAjB,CAAgC,oBAAhC,GAAyDF,SAAS,CAACD,MAAV,CAAiBI,kBAAjB,GAAwC,IAArG,CAA2G,CACvG,GAAMkD,CAAAA,SAAS,CAAG,EAAlB,CACA5D,OAAO,CAAC,QAAD,CAAP,CACK6D,IADL,CACU,cAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,CAClBC,IAAI,CAACC,KAAL,CAAWF,MAAM,CAACG,QAAlB,EAA4BC,OAA5B,CAAoC,SAAAlC,KAAK,CAAI,CACzC4B,SAAS,CAAC5B,KAAK,CAACA,KAAP,CAAT,CAAyB,KAAzB,CACH,CAFD,EAGH,CALL,EAKO6B,IALP,CAKY,UAAM,CACV7D,OAAO,gBAASW,KAAT,EAAP,CACKkD,IADL,CACU,eAAgB,IAAbC,CAAAA,MAAa,OAAbA,MAAa,CAClB,GAAMJ,CAAAA,GAAG,CAAGK,IAAI,CAACC,KAAL,CAAWF,MAAM,CAACG,QAAlB,CAAZ,CACAP,GAAG,CAAC1B,KAAJ,CAAUkC,OAAV,CAAkB,SAAAlC,KAAK,CAAI,CACvB4B,SAAS,CAAC5B,KAAD,CAAT,CAAmB,IAAnB,CACH,CAFD,EAGA0B,GAAG,CAAC1B,KAAJ,CAAY4B,SAAZ,CAEA;AACA,GAAIF,GAAG,CAAC1B,KAAJ,CAAU,SAAV,GAAwB0B,GAAG,CAAC1B,KAAJ,CAAU,OAAV,CAA5B,CAAgD,CAC5C2B,QAAQ,CAAC,CAAE5C,IAAI,CAAE,eAAR,CAAD,CAAR,CACH,CACD,GAAI2C,GAAG,CAACzC,GAAJ,GAAY,SAAhB,CAA2B,CACvB0C,QAAQ,CAAC,CAAE5C,IAAI,CAAE,YAAR,CAAD,CAAR,CACH,CACD,GAAI,CAAC2C,GAAG,CAACxC,gBAAT,CAA2B,CACvByC,QAAQ,CAAC,CAAE5C,IAAI,CAAE,yBAAR,CAAD,CAAR,CACH,CACD2C,GAAG,CAACvC,WAAJ,CAAkBuC,GAAG,CAACvC,WAAJ,CAAgBgD,MAAlC,CACA,GAAI,CAACT,GAAG,CAACvC,WAAT,CAAsB,CAClBwC,QAAQ,CAAC,CAAE5C,IAAI,CAAE,oBAAR,CAAD,CAAR,CACH,CAED,GAAI2C,GAAG,CAACvC,WAAJ,EAAmBuC,GAAG,CAACxC,gBAA3B,CAA6C,CACzCyC,QAAQ,CAAC,CAAE5C,IAAI,CAAE,aAAR,CAAD,CAAR,CACH,CAED;AACA4C,QAAQ,CAAC,CAAE5C,IAAI,CAAE,QAAR,CAAkBC,OAAO,CAAE0C,GAA3B,CAAD,CAAR,CACH,CA7BL,EA8BH,CApCL,EAqCKU,KArCL,CAqCW,SAAAC,KAAK,CAAI,CACZV,QAAQ,CAAC,CAAE5C,IAAI,CAAE,cAAR,CAAwBC,OAAO,CAAEqD,KAAjC,CAAD,CAAR,CACAC,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCF,KAAtC,EACH,CAxCL,EAyCH,CACJ,CA7CQ,CA6CN,CAAC1D,KAAD,CAAQJ,SAAS,CAACD,MAAlB,CA7CM,CAAT,CA+CA,GAAMkE,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,GAAMC,CAAAA,OAAO,CAAG,CACZzC,KAAK,CAAEF,MAAM,CAACC,IAAP,CAAY2B,GAAG,CAAC1B,KAAhB,EAAuB0C,MAAvB,CAA8B,SAAA1C,KAAK,CAAI,CAC1C,MAAO0B,CAAAA,GAAG,CAAC1B,KAAJ,CAAUA,KAAV,CAAP,CACH,CAFM,CADK,CAIZf,GAAG,CAAEyC,GAAG,CAACzC,GAJG,CAKZC,gBAAgB,CAAEwC,GAAG,CAACxC,gBALV,CAAhB,CAOAuD,OAAO,CAACtD,WAAR,CAAsB,CAAE,SAAUuC,GAAG,CAACvC,WAAhB,CAA6B,QAASuC,GAAG,CAACvC,WAAJ,CAAgBwD,MAAhB,CAAyB,IAAzB,CAAgC,KAAtE,CAAtB,CACA,GAAI,CAAC7C,MAAM,CAACC,IAAP,CAAY2B,GAAG,CAAC1B,KAAhB,EAAuB2C,MAA5B,CAAoC,CAChChB,QAAQ,CAAC,CAAE5C,IAAI,CAAE,cAAR,CAAwBC,OAAO,CAAE,uCAAjC,CAAD,CAAR,CACA,OACH,CACDf,QAAQ,CAACwE,OAAD,gBAAkB9D,KAAlB,EAA2B,KAA3B,CAAR,CACKkD,IADL,CACU,eAAgB,IAAbC,CAAAA,MAAa,OAAbA,MAAa,CAClB,GAAIA,MAAM,CAACc,MAAP,GAAkB,GAAtB,CAA2B,CACvB;AACA,0CACAC,QAAQ,CAACC,MAAT,GACH,CAJD,IAIO,CACHR,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAA2CT,MAAM,CAACG,QAAlD,EACAN,QAAQ,CAAC,CAAE5C,IAAI,CAAE,cAAR,CAAwBC,OAAO,CAAE8C,MAAM,CAACG,QAAxC,CAAD,CAAR,CACH,CACJ,CAVL,EAWKG,KAXL,CAWW,SAAAC,KAAK,CAAI,CACZ;AACAC,OAAO,CAACC,GAAR,CAAY,2BAAZ,CAAyCF,KAAzC,EACAV,QAAQ,CAAC,CAAE5C,IAAI,CAAE,cAAR,CAAwBC,OAAO,CAAE+C,IAAI,CAACC,KAAL,CAAWK,KAAX,CAAjC,CAAD,CAAR,CACH,CAfL,EAgBH,CA7BD,CA+BA,GAAMU,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB9E,QAAQ,CAACyD,GAAG,CAAClB,UAAL,YAAR,CACKqB,IADL,CACU,eAAgB,IAAbC,CAAAA,MAAa,OAAbA,MAAa,CAClB,GAAIA,MAAM,CAACc,MAAP,GAAkB,GAAtB,CAA2B,CACvBjB,QAAQ,CAAC,CAAE5C,IAAI,CAAE,iBAAR,CAAD,CAAR,CACA4C,QAAQ,CAAC,CAAE5C,IAAI,CAAE,oBAAR,CAA8BC,OAAO,CAAE,KAAvC,CAAD,CAAR,CACA2C,QAAQ,CAAC,CAAE5C,IAAI,CAAE,YAAR,CAAsBC,OAAO,CAAE+C,IAAI,CAACC,KAAL,CAAWF,MAAM,CAACG,QAAlB,CAA/B,CAAD,CAAR,CACAN,QAAQ,CAAC,CAAE5C,IAAI,CAAE,qBAAR,CAA+BC,OAAO,CAAE,EAAxC,CAAD,CAAR,CACH,CALD,IAKO,CACHsD,OAAO,CAACC,GAAR,CAAYT,MAAM,CAACG,QAAnB,EACAN,QAAQ,CAAC,CAAE5C,IAAI,CAAE,qBAAR,CAA+BC,OAAO,CAAE8C,MAAM,CAACG,QAA/C,CAAD,CAAR,CACH,CACJ,CAXL,EAYKG,KAZL,CAYW,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACAV,QAAQ,CAAC,CAAE5C,IAAI,CAAE,qBAAR,CAA+BC,OAAO,CAAEqD,KAAxC,CAAD,CAAR,CACH,CAfL,EAgBH,CAjBD,CAmBA,GAAMW,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,OAAe,IAAZhD,CAAAA,KAAY,OAAZA,KAAY,CAC5B,mBACI,yBAAG,GAAG,CAAEA,KAAR,eACI,6BACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAEA,KAFX,CAGI,IAAI,CAAEA,KAAK,CAACiD,KAAN,CAAY,GAAZ,EAAiBC,IAAjB,CAAsB,GAAtB,CAHV,CAII,OAAO,CAAExB,GAAG,CAAC1B,KAAJ,CAAUA,KAAV,CAJb,CAKI,QAAQ,CAAE,wBAAgB,IAAb8B,CAAAA,MAAa,OAAbA,MAAa,CACtBH,QAAQ,CAAC,CAAE5C,IAAI,CAAE,OAAR,CAAiBC,OAAO,CAAE8C,MAA1B,CAAD,CAAR,CACH,CAPL,CAQI,QAAQ,CAAE,CAACJ,GAAG,CAAC1B,KAAJ,CAAU,OAAV,GAAsB0B,GAAG,CAAC1B,KAAJ,CAAU,SAAV,CAAvB,GAAgD,EAAEA,KAAK,GAAK,OAAV,EAAqBA,KAAK,GAAK,SAAjC,CAR9D,EADJ,cAUM,6BAAO,OAAO,CAAEA,KAAhB,CAAuB,KAAK,CAAE,CAAEmD,OAAO,CAAE,QAAX,CAAqBC,WAAW,CAAE,MAAlC,CAA9B,EAA2EpD,KAA3E,CAVN,CADJ,CAcH,CAfD,CAiBA,mBACI,wCACK0B,GAAG,CAACjC,iBAAJ,eAAyB,oBAAC,QAAD,EAAU,EAAE,CAAE,CAAE4D,QAAQ,iBAAV,CAAd,EAD9B,CAEK3B,GAAG,CAACT,mBAAJ,eAA2B,oBAAC,QAAD,EAAU,EAAE,CAAE,CAAEoC,QAAQ,gBAAV,CAA6BxE,KAAK,CAAE,CAAE6C,GAAG,CAAHA,GAAF,CAApC,CAAd,EAFhC,cAGI,oBAAC,QAAD,EAAU,kBAAkB,CAAEnD,SAAS,CAACD,MAAV,CAAiBI,kBAA/C,EAHJ,cAII,4BAAM,SAAS,CAAC,WAAhB,eACI,4CADJ,cAEI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMiD,CAAAA,QAAQ,CAAC,CAAE5C,IAAI,CAAE,cAAR,CAAD,CAAd,EAA/B,0BAFJ,CAGK2C,GAAG,CAACR,WAAJ,EAAmB3C,SAAS,CAACD,MAAV,CAAiBI,kBAApC,eACG,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMiD,CAAAA,QAAQ,CAAC,CAAE5C,IAAI,CAAE,qBAAR,CAAD,CAAd,EAA/B,iBAJR,cAKI,6CACI,2BAAK,SAAS,CAAC,WAAf,eACI,yCAAa2C,GAAG,CAACN,IAAjB,CADJ,CADJ,CAIKM,GAAG,CAACvB,aAAJ,cACG,2BAAK,SAAS,CAAC,WAAf,eACI,6BAAO,OAAO,CAAC,OAAf,6CADJ,CAEKL,MAAM,CAACC,IAAP,CAAY2B,GAAG,CAAC1B,KAAhB,EAAuBsD,GAAvB,CAA2B,SAAAC,CAAC,CAAI,CAC7B,mBAAO,oBAAC,QAAD,EAAU,KAAK,CAAEA,CAAjB,CAAoB,GAAG,CAAEA,CAAzB,EAAP,CACH,CAFA,CAFL,CADH,cAQO,2BAAK,SAAS,CAAC,WAAf,eACI,0CAAczD,MAAM,CAACC,IAAP,CAAY2B,GAAG,CAAC1B,KAAhB,EAAuB0C,MAAvB,CAA8B,SAAA1C,KAAK,CAAI,CACjD,MAAO0B,CAAAA,GAAG,CAAC1B,KAAJ,CAAUA,KAAV,CAAP,CACH,CAFa,EAEXkD,IAFW,CAEN,GAFM,CAAd,CADJ,CAZZ,cAkBI,2BAAK,SAAS,CAAC,WAAf,EACKxB,GAAG,CAACtB,UAAJ,cACG,qDACI,6BAAO,OAAO,CAAC,KAAf,aADJ,cAEI,0CACI,6BAAO,IAAI,CAAC,OAAZ,CACI,EAAE,CAAC,MADP,CAEI,IAAI,CAAC,KAFT,CAGI,KAAK,CAAC,MAHV,CAII,QAAQ,CAAE,wBAAgB,IAAb0B,CAAAA,MAAa,OAAbA,MAAa,CACtBH,QAAQ,CAAC,CAAE5C,IAAI,CAAE,KAAR,CAAeC,OAAO,CAAE8C,MAAM,CAAClC,KAA/B,CAAD,CAAR,CACH,CANL,CAOI,OAAO,CAAE8B,GAAG,CAACzC,GAAJ,GAAY,MAPzB,EADJ,cAUI,6BAAO,OAAO,CAAC,MAAf,CAAsB,KAAK,CAAE,CAAEkE,OAAO,CAAE,QAAX,CAA7B,SAVJ,CAFJ,cAcI,0CACI,6BAAO,IAAI,CAAC,OAAZ,CACI,EAAE,CAAC,QADP,CAEI,IAAI,CAAC,KAFT,CAGI,KAAK,CAAC,QAHV,CAII,QAAQ,CAAE,wBAAgB,IAAbrB,CAAAA,MAAa,OAAbA,MAAa,CACtBH,QAAQ,CAAC,CAAE5C,IAAI,CAAE,KAAR,CAAeC,OAAO,CAAE8C,MAAM,CAAClC,KAA/B,CAAD,CAAR,CACH,CANL,CAOI,OAAO,CAAE8B,GAAG,CAACzC,GAAJ,GAAY,QAPzB,EADJ,cAUI,6BAAO,OAAO,CAAC,QAAf,CAAwB,KAAK,CAAE,CAAEkE,OAAO,CAAE,QAAX,CAA/B,WAVJ,CAdJ,cA0BI,0CACI,6BAAO,IAAI,CAAC,OAAZ,CACI,EAAE,CAAC,SADP,CAEI,IAAI,CAAC,KAFT,CAGI,KAAK,CAAC,SAHV,CAII,QAAQ,CAAE,wBAAgB,IAAbrB,CAAAA,MAAa,OAAbA,MAAa,CACtBH,QAAQ,CAAC,CAAE5C,IAAI,CAAE,KAAR,CAAeC,OAAO,CAAE8C,MAAM,CAAClC,KAA/B,CAAD,CAAR,CACH,CANL,CAOI,OAAO,CAAE8B,GAAG,CAACzC,GAAJ,GAAY,SAPzB,EADJ,cAUI,6BAAO,OAAO,CAAC,SAAf,CAAyB,KAAK,CAAE,CAAEkE,OAAO,CAAE,QAAX,CAAhC,YAVJ,CA1BJ,CADH,cAyCO,wCAAYzB,GAAG,CAACzC,GAAhB,CA1CZ,CAlBJ,cA+DI,2BAAK,SAAS,CAAC,WAAf,EACKyC,GAAG,CAACrB,uBAAJ,cACG,qDACI,6BAAO,OAAO,CAAC,kBAAf,2BADJ,cAEI,0CACI,6BAAO,IAAI,CAAC,OAAZ,CACI,EAAE,CAAC,SADP,CAEI,IAAI,CAAC,kBAFT,CAGI,KAAK,CAAE,IAHX,CAII,QAAQ,CAAE,yBAAgB,IAAbyB,CAAAA,MAAa,QAAbA,MAAa,CACtBH,QAAQ,CAAC,CAAE5C,IAAI,CAAE,kBAAR,CAA4BC,OAAO,CAAE8C,MAAM,CAAClC,KAA5C,CAAD,CAAR,CACH,CANL,CAOI,OAAO,CAAE8B,GAAG,CAACxC,gBAPjB,EADJ,cAUI,6BAAO,OAAO,CAAC,SAAf,CAAyB,KAAK,CAAE,CAAEiE,OAAO,CAAE,QAAX,CAAhC,oBAVJ,CAFJ,cAcI,0CACI,6BAAO,IAAI,CAAC,OAAZ,CACI,EAAE,CAAC,WADP,CAEI,IAAI,CAAC,kBAFT,CAGI,KAAK,CAAE,KAHX,CAII,QAAQ,CAAE,yBAAgB,IAAbrB,CAAAA,MAAa,QAAbA,MAAa,CACtBH,QAAQ,CAAC,CAAE5C,IAAI,CAAE,kBAAR,CAA4BC,OAAO,CAAE8C,MAAM,CAAClC,KAA5C,CAAD,CAAR,CACH,CANL,CAOI,OAAO,CAAE,CAAC8B,GAAG,CAACxC,gBAPlB,EADJ,cAUI,6BAAO,OAAO,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAEiE,OAAO,CAAE,QAAX,CAAlC,cAVJ,CAdJ,CADH,cA6BO,sDAA0BzB,GAAG,CAACxC,gBAAJ,CAAuB,iBAAvB,CAA2C,WAArE,CA9BZ,CA/DJ,cAgGI,2BAAK,SAAS,CAAC,WAAf,eACI,kDAAsB,GAAIsE,CAAAA,IAAJ,CAAS9B,GAAG,CAACL,WAAb,EAA0BoC,YAA1B,EAAtB,CADJ,CAhGJ,cAmGI,2BAAK,SAAS,CAAC,WAAf,eACI,gDAAoB/B,GAAG,CAACX,WAAxB,CADJ,CAnGJ,cAsGI,2BAAK,SAAS,CAAC,WAAf,EACKW,GAAG,CAACpB,kBAAJ,cACG,qDACI,iDADJ,cAEI,6BACI,IAAI,CAAC,MADT,CAEI,QAAQ,CAAE,yBAAgB,IAAbwB,CAAAA,MAAa,QAAbA,MAAa,CACtBH,QAAQ,CAAC,CAAE5C,IAAI,CAAE,aAAR,CAAuBC,OAAO,CAAE8C,MAAM,CAAClC,KAAvC,CAAD,CAAR,CACH,CAJL,EAFJ,CADH,cAUO,iDAAqB8B,GAAG,CAACvC,WAAzB,CAXZ,CAtGJ,cAoHI,2BAAK,SAAS,CAAC,WAAf,eACI,mDAAuB,GAAIqE,CAAAA,IAAJ,CAAS9B,GAAG,CAACJ,aAAb,EAA4BmC,YAA5B,EAAvB,CADJ,CApHJ,cAuHI,2BAAK,SAAS,CAAC,WAAf,eACI,qDAAyB/B,GAAG,CAACH,eAA7B,CADJ,CAvHJ,cA0HI,2BAAK,SAAS,CAAC,WAAf,eACI,oEAAwCG,GAAG,CAACF,0BAAJ,CAAiC,KAAjC,CAAyC,IAAjF,CADJ,CA1HJ,cA6HI,2BAAK,SAAS,CAAC,WAAf,eACI,mEAAuCE,GAAG,CAACD,WAA3C,CADJ,CA7HJ,CAgIK,CACGC,GAAG,CAACvB,aAAJ,EAAqBuB,GAAG,CAACtB,UAAzB,EACAsB,GAAG,CAACrB,uBADJ,EAC+BqB,GAAG,CAACpB,kBAFtC,gBAIO,qDACI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEkC,SAA/B,eADJ,cAEI,4BAAM,KAAK,CAAE,CAAEkB,KAAK,CAAE,KAAT,CAAgBN,WAAW,CAAE,MAA7B,CAAb,EAAqD1B,GAAG,CAACpC,YAAzD,CAFJ,CApIZ,CALJ,cA+II,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMqC,CAAAA,QAAQ,CAAC,CAAE5C,IAAI,CAAE,cAAR,CAAD,CAAd,EAA/B,2BA/IJ,cAgJI,8BAhJJ,cAiJI,yCAjJJ,cAkJI,8CAAkB2C,GAAG,CAACtC,QAAJ,CAAaa,MAAb,CAAoB,SAAC0D,YAAD,CAAeC,cAAf,QAAkCD,CAAAA,YAAY,EAAIC,cAAc,CAAChD,aAAf,CAA+B,GAAjF,EAApB,CAA0G,CAA1G,CAAlB,CAlJJ,CAmJKc,GAAG,CAACnB,kBAAJ,cACG,4CACI,4CADJ,cAEI,6CACI,2BAAK,SAAS,CAAC,WAAf,eACI,6BAAO,EAAE,CAAC,cAAV,SADJ,cAEI,6BACI,IAAI,CAAC,MADT,CAEI,QAAQ,CACJ,6BAAGuB,CAAAA,MAAH,QAAGA,MAAH,OAAgBH,CAAAA,QAAQ,CAAC,CAAE5C,IAAI,CAAE,gBAAR,CAA0BC,OAAO,CAAE8C,MAAM,CAAClC,KAA1C,CAAD,CAAxB,EAHR,EAFJ,CADJ,cASI,2BAAK,SAAS,CAAC,WAAf,eACI,6BAAO,EAAE,CAAC,gBAAV,WADJ,cAEI,6BACI,IAAI,CAAC,MADT,CAEI,QAAQ,CACJ,6BAAGkC,CAAAA,MAAH,QAAGA,MAAH,OAAgBH,CAAAA,QAAQ,CAAC,CAAE5C,IAAI,CAAE,kBAAR,CAA4BC,OAAO,CAAE8C,MAAM,CAAClC,KAA5C,CAAD,CAAxB,EAHR,EAFJ,CATJ,cAiBI,2BAAK,SAAS,CAAC,WAAf,eACI,6BAAO,EAAE,CAAC,gBAAV,wBADJ,kBAEC,6BACO,IAAI,CAAC,QADZ,CAEO,IAAI,CAAE,IAFb,CAGO,GAAG,CAAE,CAHZ,CAIO,QAAQ,CAAE,yBAAgB,IAAbkC,CAAAA,MAAa,QAAbA,MAAa,CACtB,GAAI,MAAO,CAACA,MAAM,CAAClC,KAAf,GAAyB,QAA7B,CAAuC,CACnC+B,QAAQ,CAAC,CAAE5C,IAAI,CAAE,kBAAR,CAA4BC,OAAO,CAAE8C,MAAM,CAAClC,KAA5C,CAAD,CAAR,CACH,CACJ,CARR,EAFD,CAjBJ,cA8BI,2BAAK,SAAS,CAAC,WAAf,eACI,6BAAO,EAAE,CAAC,qBAAV,gBADJ,cAEI,6BACI,IAAI,CAAC,MADT,CAEI,QAAQ,CACJ,6BAAGkC,CAAAA,MAAH,QAAGA,MAAH,OAAgBH,CAAAA,QAAQ,CAAC,CAAE5C,IAAI,CAAE,uBAAR,CAAiCC,OAAO,CAAE8C,MAAM,CAAClC,KAAjD,CAAD,CAAxB,EAHR,EAFJ,CA9BJ,cAsCI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEmD,UAA/B,mBAtCJ,CAuCKrB,GAAG,CAACf,mBAAJ,eAA2B,4BAAM,KAAK,CAAE,CAAE+C,KAAK,CAAE,KAAT,CAAgBN,WAAW,CAAE,MAA7B,CAAb,EAAqD1B,GAAG,CAACf,mBAAzD,CAvChC,CAFJ,CADH,cA8CO,qDACI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMgB,CAAAA,QAAQ,CAAC,CAAE5C,IAAI,CAAE,oBAAR,CAA8BC,OAAO,CAAE,IAAvC,CAAD,CAAd,EAA/B,oBADJ,CAEK0C,GAAG,CAACf,mBAAJ,eAA2B,4BAAM,KAAK,CAAE,CAAE+C,KAAK,CAAE,KAAT,CAAgBN,WAAW,CAAE,MAA7B,CAAb,EAAqD1B,GAAG,CAACf,mBAAzD,CAFhC,CAjMZ,CAwMQe,GAAG,CAACtC,QAAJ,CAAauD,MAAb,CACIjB,GAAG,CAACtC,QAAJ,CAAakE,GAAb,CAAiB,SAACO,OAAD,CAAUC,KAAV,qBACb,2BAAK,GAAG,CAAEA,KAAV,CAAiB,SAAS,CAAC,WAA3B,eACI,4CACI,yCAAa,GAAIN,CAAAA,IAAJ,CAASK,OAAO,CAACnD,IAAjB,EAAuB+C,YAAvB,EAAb,CADJ,CADJ,cAII,4CACI,2CAAeI,OAAO,CAACpD,MAAvB,CADJ,CAJJ,cAOI,4CACI,gDAAoBoD,OAAO,CAAC9C,WAA5B,CADJ,CAPJ,cAUI,4CACI,0CAAc8C,OAAO,CAACjD,aAAR,CAAwB,GAAtC,CADJ,CAVJ,CADa,EAAjB,CADJ,cAiBK,0DAzNb,CAJJ,CADJ,CAmOH,CAhdD,CAkdA,cAAexC,CAAAA,UAAf","sourcesContent":["import React, { useEffect, useReducer, useState } from \"react\";\nimport { useParams, Redirect } from \"react-router-dom\";\n\nimport { getData, sendData } from \"../services/api\";\nimport { isLoggedIn } from \"../services/auth\";\nimport { NavLinks } from \"../components\";\n\nconst DogDetails = () => {\n\n    const [pageState, setPageState] = useState({\n        loginRedirect: false,\n        cookie: {}\n    });\n\n    // check auth\n    useEffect(() => {\n        const cookie = isLoggedIn();\n        if (cookie.hasOwnProperty(\"isTrustedVolunteer\") && cookie.isTrustedVolunteer !== null) {\n            setPageState({ ...pageState, cookie });\n        }\n        /* eslint-disable react-hooks/exhaustive-deps */\n    }, []);\n\n    const { dogId } = useParams();\n\n    const reducer = (state, action) => {\n        switch (action.type) {\n            case \"setDog\":\n                return { ...state, ...action.payload };\n            case \"sex\":\n                return { ...state, sex: action.payload };\n            case \"alterationStatus\":\n                return { ...state, alterationStatus: action.payload === \"true\" };\n            case \"microchipId\":\n                return { ...state, microchipId: action.payload };\n            case \"expenses\":\n                return { ...state, expenses: action.payload };\n            case \"availableBreeds\":\n                return { ...state, availableBreeds: action.payload };\n            case \"errorMessage\":\n                return { ...state, errorMessage: action.payload };\n            case \"showModal\":\n                return { ...state, id: action.payload, showModal: true };\n            case \"dogDashboard\":\n                return { ...state, dashboardRedirect: true };\n            case \"breed\":\n                const newBreed = (() => {\n                    if (action.payload.checked) {\n                        if (action.payload.value === \"Mixed\" || action.payload.value === \"Unknown\") {\n                            const falseBreeds = Object.keys(state.breed).reduce((breeds, breed) => {\n                                breeds[breed] = false;\n                                return breeds;\n                            }, {});\n                            return { ...falseBreeds, [action.payload.value]: true };\n                        } else {\n                            return { ...state.breed, [action.payload.value]: true };\n                        }\n                    } else {\n                        return { ...state.breed, [action.payload.value]: false }\n                    }\n                })();\n                return { ...state, breed: newBreed };\n            case \"canEditBreeds\":\n                return { ...state, canEditBreeds: true };\n            case \"canEditSex\":\n                return { ...state, canEditSex: true };\n            case \"canEditAlterationStatus\":\n                return { ...state, canEditAlterationStatus: true };\n            case \"canEditMicrochipId\":\n                return { ...state, canEditMicrochipId: true };\n            case \"showAddExpenseForm\":\n                return { ...state, showAddExpenseForm: action.payload };\n            case \"newExpenseVendor\":\n                return { ...state, newExpense: { ...(state.newExpense), vendor: action.payload } };\n            case \"newExpenseDate\":\n                return { ...state, newExpense: { ...(state.newExpense), date: action.payload } };\n            case \"newExpenseAmount\":\n                if (typeof +action.payload !== \"number\" || +action.payload < 0) {\n                    return { ...state, expenseErrorMessage: \"Please enter a valid numeric amount.\" }\n                } else {\n                    if (state.expenseErrorMessage === \"Please enter a valid numeric amount.\") {\n                        return { ...state, expenseErrorMessage: \"\" }\n                    }\n                }\n                return { ...state, newExpense: { ...(state.newExpense), amountInCents: Math.floor(+action.payload * 100) } };\n            case \"newExpenseDescription\":\n                return { ...state, newExpense: { ...(state.newExpense), description: action.payload } };\n            case \"resetNewExpense\":\n                return { ...state, newExpense: { dogIdFk: dogId } };\n            case \"addExpense\":\n                return { ...state, expenses: [...(state.expenses), action.payload] };\n            case \"expenseErrorMessage\":\n                return { ...state, expenseErrorMessage: action.payload }\n            case \"addAdoptionRedirect\":\n                return { ...state, addAdoptionRedirect: true };\n            case \"isAdoptable\":\n                return { ...state, isAdoptable: true };\n            default:\n                throw new Error();\n        }\n    };\n\n    const [dog, dispatch] = useReducer(\n        reducer,\n        {\n            name: \"\",\n            breed: {},\n            sex: null,\n            alterationStatus: null,\n            dateOfBirth: \"\",\n            description: \"\",\n            microchipId: \"\",\n            surrenderDate: \"\",\n            surrenderReason: \"\",\n            surrenderedByAnimalControl: null,\n            volunteerId: -1,\n            expenses: [],\n            errorMessage: \"\",\n            showModal: false,\n            canEditBreeds: false,\n            canEditSex: false,\n            canEditAlterationStatus: false,\n            canEditMicrochipId: false,\n            showAddExpenseForm: false,\n            newExpense: { dogIdFk: dogId },\n            expenseErrorMessage: \"\",\n            addAdoptionRedirect: false,\n            isAdoptable: false\n        });\n\n    useEffect(() => {\n        if (pageState.cookie.hasOwnProperty(\"isTrustedVolunteer\") && pageState.cookie.isTrustedVolunteer !== null) {\n            const breedsObj = {};\n            getData(\"/breed\")\n                .then(({ target }) => {\n                    JSON.parse(target.response).forEach(breed => {\n                        breedsObj[breed.breed] = false;\n                    });\n                }).then(() => {\n                    getData(`/dog/${dogId}`)\n                        .then(({ target }) => {\n                            const dog = JSON.parse(target.response);\n                            dog.breed.forEach(breed => {\n                                breedsObj[breed] = true;\n                            });\n                            dog.breed = breedsObj;\n\n                            // derive permissions\n                            if (dog.breed[\"Unknown\"] || dog.breed[\"Mixed\"]) {\n                                dispatch({ type: \"canEditBreeds\" });\n                            }\n                            if (dog.sex === \"unknown\") {\n                                dispatch({ type: \"canEditSex\" });\n                            }\n                            if (!dog.alterationStatus) {\n                                dispatch({ type: \"canEditAlterationStatus\" });\n                            }\n                            dog.microchipId = dog.microchipId.String;\n                            if (!dog.microchipId) {\n                                dispatch({ type: \"canEditMicrochipId\" });\n                            }\n\n                            if (dog.microchipId && dog.alterationStatus) {\n                                dispatch({ type: \"isAdoptable\" });\n                            }\n\n                            // set dog\n                            dispatch({ type: \"setDog\", payload: dog });\n                        })\n                })\n                .catch(error => {\n                    dispatch({ type: \"errorMessage\", payload: error });\n                    console.log(\"error calling the API:\", error);\n                })\n        }\n    }, [dogId, pageState.cookie]);\n\n    const updateDog = () => {\n        const dogData = {\n            breed: Object.keys(dog.breed).filter(breed => {\n                return dog.breed[breed];\n            }),\n            sex: dog.sex,\n            alterationStatus: dog.alterationStatus\n        };\n        dogData.microchipId = { \"String\": dog.microchipId, \"Valid\": dog.microchipId.length ? true : false };\n        if (!Object.keys(dog.breed).length) {\n            dispatch({ type: \"errorMessage\", payload: \"Please select at least one dog breed.\" });\n            return;\n        }\n        sendData(dogData, `/dog/${dogId}`, \"put\")\n            .then(({ target }) => {\n                if (target.status === 204) {\n                    // show success modal\n                    /* eslint-disable no-restricted-globals */\n                    location.reload();\n                } else {\n                    console.log(\"error adding dog (non-200):\", target.response);\n                    dispatch({ type: \"errorMessage\", payload: target.response });\n                }\n            })\n            .catch(error => {\n                // show error modal\n                console.log(\"error adding dog (catch):\", error);\n                dispatch({ type: \"errorMessage\", payload: JSON.parse(error) });\n            });\n    }\n\n    const addExpense = () => {\n        sendData(dog.newExpense, `/expense`)\n            .then(({ target }) => {\n                if (target.status === 201) {\n                    dispatch({ type: \"resetNewExpense\" });\n                    dispatch({ type: \"showAddExpenseForm\", payload: false });\n                    dispatch({ type: \"addExpense\", payload: JSON.parse(target.response) });\n                    dispatch({ type: \"expenseErrorMessage\", payload: \"\" });\n                } else {\n                    console.log(target.response);\n                    dispatch({ type: \"expenseErrorMessage\", payload: target.response });\n                }\n            })\n            .catch(error => {\n                console.log(error);\n                dispatch({ type: \"expenseErrorMessage\", payload: error });\n            });\n    }\n\n    const Checkbox = ({ breed }) => {\n        return (\n            <p key={breed}>\n                <input\n                    type=\"checkbox\"\n                    value={breed}\n                    name={breed.split(\" \").join(\"-\")}\n                    checked={dog.breed[breed]}\n                    onChange={({ target }) => {\n                        dispatch({ type: 'breed', payload: target })\n                    }}\n                    disabled={(dog.breed[\"Mixed\"] || dog.breed[\"Unknown\"]) && !(breed === \"Mixed\" || breed === \"Unknown\")}\n                /><label htmlFor={breed} style={{ display: \"inline\", paddingLeft: \"10px\" }}>{breed}</label>\n            </p>\n        )\n    }\n\n    return (\n        <>\n            {dog.dashboardRedirect && <Redirect to={{ pathname: `/dog-dashboard` }} />}\n            {dog.addAdoptionRedirect && <Redirect to={{ pathname: `/add-adoption`, state: { dog } }} />}\n            <NavLinks isTrustedVolunteer={pageState.cookie.isTrustedVolunteer} />\n            <main className=\"container\">\n                <h1>Dog Details</h1>\n                <button type=\"button\" onClick={() => dispatch({ type: \"dogDashboard\" })}>Back to Dog Dashboard</button>\n                {dog.isAdoptable && pageState.cookie.isTrustedVolunteer &&\n                    <button type=\"button\" onClick={() => dispatch({ type: \"addAdoptionRedirect\" })}>Add Adoption</button>}\n                <form>\n                    <div className=\"form-unit\">\n                        <span>Name: {dog.name}</span>\n                    </div>\n                    {dog.canEditBreeds ? (\n                        <div className=\"form-unit\">\n                            <label htmlFor=\"breed\">Dog Breed: (Please select at least one.)</label>\n                            {Object.keys(dog.breed).map(b => {\n                                return <Checkbox breed={b} key={b} />\n                            })}\n                        </div>\n                    ) : (\n                            <div className=\"form-unit\">\n                                <span>Breed: {Object.keys(dog.breed).filter(breed => {\n                                    return dog.breed[breed];\n                                }).join(\"/\")}</span>\n                            </div>\n                        )}\n                    <div className=\"form-unit\">\n                        {dog.canEditSex ? (\n                            <>\n                                <label htmlFor=\"sex\">Dog Sex:</label>\n                                <p>\n                                    <input type=\"radio\"\n                                        id=\"male\"\n                                        name=\"sex\"\n                                        value=\"male\"\n                                        onChange={({ target }) => {\n                                            dispatch({ type: \"sex\", payload: target.value })\n                                        }}\n                                        checked={dog.sex === \"male\"}\n                                    />\n                                    <label htmlFor=\"male\" style={{ display: \"inline\" }}>Male</label>\n                                </p>\n                                <p>\n                                    <input type=\"radio\"\n                                        id=\"female\"\n                                        name=\"sex\"\n                                        value=\"female\"\n                                        onChange={({ target }) => {\n                                            dispatch({ type: \"sex\", payload: target.value })\n                                        }}\n                                        checked={dog.sex === \"female\"}\n                                    />\n                                    <label htmlFor=\"female\" style={{ display: \"inline\" }}>Female</label>\n                                </p>\n                                <p>\n                                    <input type=\"radio\"\n                                        id=\"unknown\"\n                                        name=\"sex\"\n                                        value=\"unknown\"\n                                        onChange={({ target }) => {\n                                            dispatch({ type: 'sex', payload: target.value })\n                                        }}\n                                        checked={dog.sex === \"unknown\"}\n                                    />\n                                    <label htmlFor=\"unknown\" style={{ display: \"inline\" }}>Unknown</label>\n                                </p>\n                            </>\n                        ) : (\n                                <span>Sex: {dog.sex}</span>\n                            )}\n                    </div>\n                    <div className=\"form-unit\">\n                        {dog.canEditAlterationStatus ? (\n                            <>\n                                <label htmlFor=\"alterationStatus\">Dog Alteration Status:</label>\n                                <p>\n                                    <input type=\"radio\"\n                                        id=\"altered\"\n                                        name=\"alterationStatus\"\n                                        value={true}\n                                        onChange={({ target }) => {\n                                            dispatch({ type: 'alterationStatus', payload: target.value })\n                                        }}\n                                        checked={dog.alterationStatus}\n                                    />\n                                    <label htmlFor=\"altered\" style={{ display: \"inline\" }}>Spayed/Neutered</label>\n                                </p>\n                                <p>\n                                    <input type=\"radio\"\n                                        id=\"unaltered\"\n                                        name=\"alterationStatus\"\n                                        value={false}\n                                        onChange={({ target }) => {\n                                            dispatch({ type: 'alterationStatus', payload: target.value })\n                                        }}\n                                        checked={!dog.alterationStatus}\n                                    />\n                                    <label htmlFor=\"unaltered\" style={{ display: \"inline\" }}>Unaltered</label>\n                                </p>\n                            </>\n                        ) : (\n                                <span>Alteration Status: {dog.alterationStatus ? \"Spayed/Neutered\" : \"Unaltered\"}</span>\n                            )}\n                    </div>\n                    <div className=\"form-unit\">\n                        <span>Date of Birth: {new Date(dog.dateOfBirth).toDateString()}</span>\n                    </div>\n                    <div className=\"form-unit\">\n                        <span>Description: {dog.description}</span>\n                    </div>\n                    <div className=\"form-unit\">\n                        {dog.canEditMicrochipId ? (\n                            <>\n                                <label>Microchip ID:</label>\n                                <input\n                                    type=\"text\"\n                                    onChange={({ target }) => {\n                                        dispatch({ type: \"microchipId\", payload: target.value })\n                                    }} />\n                            </>\n                        ) : (\n                                <span>Microchip ID: {dog.microchipId}</span>\n                            )}\n                    </div>\n                    <div className=\"form-unit\">\n                        <span>Surrender Date: {new Date(dog.surrenderDate).toDateString()}</span>\n                    </div>\n                    <div className=\"form-unit\">\n                        <span>Surrender Reason: {dog.surrenderReason}</span>\n                    </div>\n                    <div className=\"form-unit\">\n                        <span>Surrender was by Animal Control: {dog.surrenderedByAnimalControl ? \"Yes\" : \"No\"}</span>\n                    </div>\n                    <div className=\"form-unit\">\n                        <span>Surrender recorded by volunteer {dog.volunteerId}</span>\n                    </div>\n                    {(\n                        dog.canEditBreeds || dog.canEditSex ||\n                        dog.canEditAlterationStatus || dog.canEditMicrochipId\n                    ) && (\n                            <>\n                                <button type=\"button\" onClick={updateDog}>Update Dog</button>\n                                <span style={{ color: \"red\", paddingLeft: \"10px\" }}>{dog.errorMessage}</span>\n                            </>\n                        )}\n                </form>\n                <button type=\"button\" onClick={() => dispatch({ type: \"dogDashboard\" })}> Back to Dog Dashboard</button >\n                <hr></hr>\n                <h1>Expenses</h1>\n                <h3>Dog Total : ${dog.expenses.reduce((totalExpense, currentExpense) => totalExpense += currentExpense.amountInCents / 100, 0)}</h3>\n                {dog.showAddExpenseForm ? (\n                    <div>\n                        <h3>New Expense</h3>\n                        <form>\n                            <div className=\"form-unit\">\n                                <label id=\"expense-date\">Date</label>\n                                <input\n                                    type=\"date\"\n                                    onChange={\n                                        ({ target }) => dispatch({ type: \"newExpenseDate\", payload: target.value })\n                                    } />\n                            </div>\n                            <div className=\"form-unit\">\n                                <label id=\"expense-vendor\">Vendor</label>\n                                <input\n                                    type=\"text\"\n                                    onChange={\n                                        ({ target }) => dispatch({ type: \"newExpenseVendor\", payload: target.value })\n                                    } />\n                            </div>\n                            <div className=\"form-unit\">\n                                <label id=\"expense-amount\">Amount (in dollars)</label>\n                            $<input\n                                    type=\"number\"\n                                    step={0.01}\n                                    min={0}\n                                    onChange={({ target }) => {\n                                        if (typeof +target.value === \"number\") {\n                                            dispatch({ type: \"newExpenseAmount\", payload: target.value });\n                                        }\n                                    }\n                                    } />\n                            </div>\n                            <div className=\"form-unit\">\n                                <label id=\"expense-description\">Description</label>\n                                <input\n                                    type=\"text\"\n                                    onChange={\n                                        ({ target }) => dispatch({ type: \"newExpenseDescription\", payload: target.value })\n                                    } />\n                            </div>\n                            <button type=\"button\" onClick={addExpense}>Submit Expense</button>\n                            {dog.expenseErrorMessage && <span style={{ color: \"red\", paddingLeft: \"10px\" }}>{dog.expenseErrorMessage}</span>}\n                        </form>\n                    </div>\n                ) : (\n                        <>\n                            <button type=\"button\" onClick={() => dispatch({ type: \"showAddExpenseForm\", payload: true })}>Add New Expense</button>\n                            {dog.expenseErrorMessage && <span style={{ color: \"red\", paddingLeft: \"10px\" }}>{dog.expenseErrorMessage}</span>}\n                        </>\n                    )}\n\n                {\n                    dog.expenses.length ? (\n                        dog.expenses.map((expense, index) => (\n                            <div key={index} className=\"form-unit\">\n                                <div>\n                                    <span>Date: {new Date(expense.date).toDateString()}</span>\n                                </div>\n                                <div>\n                                    <span>Vendor: {expense.vendor}</span>\n                                </div>\n                                <div>\n                                    <span>Description: {expense.description}</span>\n                                </div>\n                                <div>\n                                    <span>Cost: ${expense.amountInCents / 100}</span>\n                                </div>\n                            </div>\n                        ))\n                    ) : (<div>No expenses entered yet.</div>)\n                }\n            </main>\n        </>\n    );\n}\n\nexport default DogDetails;"]},"metadata":{},"sourceType":"module"}