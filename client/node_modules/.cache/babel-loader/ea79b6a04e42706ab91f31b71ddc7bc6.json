{"ast":null,"code":"var _jsxFileName = \"/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/src/containers/AddAdoption.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { getData } from \"../services/api\";\n\nconst AddAdoption = () => {\n  const [state, setState] = useState({\n    approvedApplicants: [],\n    approvedApplicantLastNameFragment: \"\",\n    timeout: -1,\n    latestApplication: {}\n  });\n  useEffect(() => {\n    getData(`/applicant?like=${state.approvedApplicantLastNameFragment}`).then(({\n      target\n    }) => {\n      setState({ ...state,\n        approvedApplicants: JSON.parse(target.response)\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    /* eslint-disable react-hooks/exhaustive-deps */\n  }, []);\n\n  const getLatestApplication = applicantId => {\n    getData(`/application?applicantId=${applicantId}`).then(({\n      target\n    }) => {\n      console.log(target);\n\n      if (target.status === 200) {\n        setState({ ...state,\n          latestApplication: JSON.parse(target.value)\n        });\n      } else {\n        console.log(target);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Add Adoption\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"approved-applicant-last-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, \"Search by approved applicant last name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"approved-applicant-last-name\",\n    value: state.approvedApplicantLastNameFragment,\n    onChange: ({\n      target\n    }) => {\n      setState({ ...state,\n        approvedApplicantLastNameFragment: target.value\n      });\n      clearTimeout(state.timeout);\n      setState({ ...state,\n        timeout: setTimeout(() => {\n          // make http call for applicant\n          getData(`/applicant?like=${state.approvedApplicantLastNameFragment}`).then(({\n            target\n          }) => {\n            let approvedApplicants = JSON.parse(target.response);\n\n            if (target.status === 200) {\n              setState({ ...state,\n                approvedApplicants\n              });\n            } else {\n              console.log(target);\n            }\n          }).catch(error => {\n            console.log(error);\n          });\n        }, 400)\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, JSON.stringify(useLocation())), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Select Applicant\"), state.approvedApplicants.map(applicant => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: applicant.id,\n      className: \"form-unit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        getLatestApplication(applicant.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, \"Select\"), JSON.stringify(applicant));\n  }), state.latestApplication.applicantId && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, JSON.stringify(state.latestApplication)));\n};\n\nexport default AddAdoption;","map":{"version":3,"sources":["/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/src/containers/AddAdoption.js"],"names":["React","useEffect","useState","useLocation","getData","AddAdoption","state","setState","approvedApplicants","approvedApplicantLastNameFragment","timeout","latestApplication","then","target","JSON","parse","response","catch","error","console","log","getLatestApplication","applicantId","status","value","clearTimeout","setTimeout","stringify","map","applicant","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { useLocation } from \"react-router-dom\";\n\nimport { getData } from \"../services/api\";\n\n\nconst AddAdoption = () => {\n    const [state, setState] = useState({\n        approvedApplicants: [],\n        approvedApplicantLastNameFragment: \"\",\n        timeout: -1,\n        latestApplication: {}\n    });\n\n    useEffect(() => {\n        getData(`/applicant?like=${state.approvedApplicantLastNameFragment}`)\n            .then(({ target }) => {\n                setState({ ...state, approvedApplicants: JSON.parse(target.response) });\n            })\n            .catch(error => {\n                console.log(error);\n            })\n        /* eslint-disable react-hooks/exhaustive-deps */\n    }, []);\n\n    const getLatestApplication = applicantId => {\n        getData(`/application?applicantId=${applicantId}`)\n            .then(({ target }) => {\n                console.log(target);\n                if (target.status === 200) {\n                    setState({ ...state, latestApplication: JSON.parse(target.value) });\n                } else {\n                    console.log(target);\n                }\n\n            })\n            .catch(error => {\n                console.log(error);\n            });\n    }\n\n    return (\n        <>\n            <h1>Add Adoption</h1>\n            <form>\n                <div className=\"form-unit\">\n                    <label htmlFor=\"approved-applicant-last-name\">Search by approved applicant last name:</label>\n                    <input\n                        id=\"approved-applicant-last-name\"\n                        value={state.approvedApplicantLastNameFragment}\n                        onChange={({ target }) => {\n                            setState({ ...state, approvedApplicantLastNameFragment: target.value });\n                            clearTimeout(state.timeout);\n                            setState({\n                                ...state, timeout: setTimeout(() => {\n                                    // make http call for applicant\n                                    getData(`/applicant?like=${state.approvedApplicantLastNameFragment}`)\n                                        .then(({ target }) => {\n                                            let approvedApplicants = JSON.parse(target.response);\n                                            if (target.status === 200) {\n                                                setState({ ...state, approvedApplicants });\n                                            }\n                                            else {\n                                                console.log(target);\n                                            }\n                                        })\n                                        .catch(error => {\n                                            console.log(error);\n                                        })\n                                }, 400)\n                            });\n                        }}\n                    />\n                </div>\n\n            </form>\n            <div>{JSON.stringify(useLocation())}</div>\n            <h3>Select Applicant</h3>\n            {state.approvedApplicants.map(applicant => {\n                return (\n                    <div key={applicant.id} className=\"form-unit\">\n                        <button type=\"button\" onClick={() => {\n                            getLatestApplication(applicant.id);\n                        }}>Select</button>{JSON.stringify(applicant)}</div>\n                )\n            })}\n            {state.latestApplication.applicantId && (\n                <div>{JSON.stringify(state.latestApplication)}</div>\n            )}\n        </>\n    )\n\n\n}\n\nexport default AddAdoption;"]},"metadata":{},"sourceType":"module"}