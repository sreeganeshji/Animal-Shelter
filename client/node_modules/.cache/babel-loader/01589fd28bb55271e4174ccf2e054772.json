{"ast":null,"code":"import _objectSpread from\"/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{getData}from\"../services/api\";import{isLoggedIn}from\"../services/auth\";import{NavLinks}from\"../components\";var ExpenseAnalysis=function ExpenseAnalysis(){var _useState=useState({data:[],errorMessage:\"\",loginRedirect:false,cookie:{}}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];// check auth\nuseEffect(function(){var cookie=isLoggedIn();if(cookie.hasOwnProperty(\"isTrustedVolunteer\")&&cookie.isTrustedVolunteer){setState(_objectSpread(_objectSpread({},state),{},{cookie:cookie}));}/* eslint-disable react-hooks/exhaustive-deps */},[]);useEffect(function(){if(state.cookie.hasOwnProperty(\"isTrustedVolunteer\")&&state.cookie.isTrustedVolunteer){getData(\"/expense-analysis\").then(function(_ref){var target=_ref.target;if(target.status===200){setState(_objectSpread(_objectSpread({},state),{},{data:JSON.parse(target.response)}));}else{setState(_objectSpread(_objectSpread({},state),{},{errorMessage:target.response}));}}).catch(function(error){console.log(error);setState(_objectSpread(_objectSpread({},state),{},{errorMessage:JSON.stringify(error)}));});}},[state.cookie]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavLinks,{isTrustedVolunteer:state.cookie.isTrustedVolunteer}),/*#__PURE__*/React.createElement(\"main\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Expense Analysis\"),state.data.length?/*#__PURE__*/ // && (return <div className=\"form-unit\">{JSON.stringify(datum)}</div>\nReact.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Vendor\"),/*#__PURE__*/React.createElement(\"th\",null,\"Total Spending in dollars\"))),/*#__PURE__*/React.createElement(\"tbody\",null,state.data.map(function(data,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,data.vendor),/*#__PURE__*/React.createElement(\"td\",null,\"$\",data.totalSpending/100));}))):/*#__PURE__*/React.createElement(\"p\",null,\"No expenses found\"),state.errorMessage&&/*#__PURE__*/React.createElement(\"div\",{styles:{color:\"red\"}},state.errorMessage)));};export default ExpenseAnalysis;","map":{"version":3,"sources":["/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/src/containers/ExpenseAnalysis.js"],"names":["React","useEffect","useState","getData","isLoggedIn","NavLinks","ExpenseAnalysis","data","errorMessage","loginRedirect","cookie","state","setState","hasOwnProperty","isTrustedVolunteer","then","target","status","JSON","parse","response","catch","error","console","log","stringify","length","map","index","vendor","totalSpending","color"],"mappings":"qYAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,QAAT,KAAyB,eAAzB,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,eAEAJ,QAAQ,CAAC,CAC/BK,IAAI,CAAE,EADyB,CAE/BC,YAAY,CAAE,EAFiB,CAG/BC,aAAa,CAAE,KAHgB,CAI/BC,MAAM,CAAE,EAJuB,CAAD,CAFR,wCAEnBC,KAFmB,eAEZC,QAFY,eAS1B;AACAX,SAAS,CAAC,UAAM,CACZ,GAAMS,CAAAA,MAAM,CAAGN,UAAU,EAAzB,CACA,GAAIM,MAAM,CAACG,cAAP,CAAsB,oBAAtB,GAA+CH,MAAM,CAACI,kBAA1D,CAA8E,CAC1EF,QAAQ,gCAAMD,KAAN,MAAaD,MAAM,CAANA,MAAb,GAAR,CACH,CACD,gDACH,CANQ,CAMN,EANM,CAAT,CAQAT,SAAS,CAAC,UAAM,CACZ,GAAIU,KAAK,CAACD,MAAN,CAAaG,cAAb,CAA4B,oBAA5B,GAAqDF,KAAK,CAACD,MAAN,CAAaI,kBAAtE,CAA0F,CACtFX,OAAO,CAAC,mBAAD,CAAP,CACKY,IADL,CACU,cAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,CAClB,GAAIA,MAAM,CAACC,MAAP,GAAkB,GAAtB,CAA2B,CACvBL,QAAQ,gCAAMD,KAAN,MAAaJ,IAAI,CAAEW,IAAI,CAACC,KAAL,CAAWH,MAAM,CAACI,QAAlB,CAAnB,GAAR,CACH,CAFD,IAEO,CACHR,QAAQ,gCAAMD,KAAN,MAAaH,YAAY,CAAEQ,MAAM,CAACI,QAAlC,GAAR,CACH,CACJ,CAPL,EAQKC,KARL,CAQW,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACAV,QAAQ,gCAAMD,KAAN,MAAaH,YAAY,CAAEU,IAAI,CAACO,SAAL,CAAeH,KAAf,CAA3B,GAAR,CACH,CAXL,EAYH,CACJ,CAfQ,CAeN,CAACX,KAAK,CAACD,MAAP,CAfM,CAAT,CAgBA,mBACI,qDACI,oBAAC,QAAD,EAAU,kBAAkB,CAAEC,KAAK,CAACD,MAAN,CAAaI,kBAA3C,EADJ,cAEI,4BAAM,SAAS,CAAC,WAAhB,eACI,iDADJ,CAIQH,KAAK,CAACJ,IAAN,CAAWmB,MAAX,eACI;AAEA,8CACI,8CACI,2CACI,uCADJ,cAEI,0DAFJ,CADJ,CADJ,cAOI,iCAEQf,KAAK,CAACJ,IAAN,CAAWoB,GAAX,CAAe,SAACpB,IAAD,CAAOqB,KAAP,CAAiB,CAC5B,mBAAQ,2CACJ,8BACKrB,IAAI,CAACsB,MADV,CADI,cAIJ,kCACMtB,IAAI,CAACuB,aAAL,CAAqB,GAD3B,CAJI,CAAR,CAQH,CATD,CAFR,CAPJ,CAHJ,cA2BI,iDA/BZ,CAoCQnB,KAAK,CAACH,YAAN,eACI,2BAAK,MAAM,CAAE,CAAEuB,KAAK,CAAE,KAAT,CAAb,EAAgCpB,KAAK,CAACH,YAAtC,CArCZ,CAFJ,CADJ,CA6CH,CA/ED,CAiFA,cAAeF,CAAAA,eAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { getData } from \"../services/api\";\nimport { isLoggedIn } from \"../services/auth\";\nimport { NavLinks } from \"../components\";\n\nconst ExpenseAnalysis = () => {\n\n    const [state, setState] = useState({\n        data: [],\n        errorMessage: \"\",\n        loginRedirect: false,\n        cookie: {}\n    });\n\n    // check auth\n    useEffect(() => {\n        const cookie = isLoggedIn();\n        if (cookie.hasOwnProperty(\"isTrustedVolunteer\") && cookie.isTrustedVolunteer) {\n            setState({ ...state, cookie });\n        }\n        /* eslint-disable react-hooks/exhaustive-deps */\n    }, []);\n\n    useEffect(() => {\n        if (state.cookie.hasOwnProperty(\"isTrustedVolunteer\") && state.cookie.isTrustedVolunteer) {\n            getData(\"/expense-analysis\")\n                .then(({ target }) => {\n                    if (target.status === 200) {\n                        setState({ ...state, data: JSON.parse(target.response) });\n                    } else {\n                        setState({ ...state, errorMessage: target.response });\n                    }\n                })\n                .catch(error => {\n                    console.log(error);\n                    setState({ ...state, errorMessage: JSON.stringify(error) });\n                })\n        }\n    }, [state.cookie]);\n    return (\n        <>\n            <NavLinks isTrustedVolunteer={state.cookie.isTrustedVolunteer} />\n            <main className=\"container\">\n                <h1>Expense Analysis</h1>\n                {\n\n                    state.data.length ?\n                        // && (return <div className=\"form-unit\">{JSON.stringify(datum)}</div>\n\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>Vendor</th>\n                                    <th>Total Spending in dollars</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {\n                                    state.data.map((data, index) => {\n                                        return (<tr>\n                                            <td>\n                                                {data.vendor}\n                                            </td>\n                                            <td>\n                                                ${data.totalSpending / 100}\n                                            </td>\n                                        </tr>)\n                                    })\n                                }\n                            </tbody>\n                        </table>\n\n                        :\n                        <p>No expenses found</p>\n\n                }\n\n                {\n                    state.errorMessage && (\n                        <div styles={{ color: \"red\" }}>{state.errorMessage}</div>\n                    )}\n            </main>\n        </>\n    );\n}\n\nexport default ExpenseAnalysis;"]},"metadata":{},"sourceType":"module"}