{"ast":null,"code":"var _jsxFileName = \"/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/src/containers/AddAdoption.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Redirect, useLocation } from \"react-router-dom\";\nimport { getData, sendData } from \"../services/api\";\nimport { isLoggedIn } from \"../services/auth\";\nimport { NavLinks } from \"../components\";\n\nconst AddAdoption = () => {\n  const locationState = useLocation().state;\n  const [state, setState] = useState({\n    approvedApplicants: [],\n    approvedApplicantLastNameFragment: \"\",\n    timeout: -1,\n    latestApplication: {},\n    dog: locationState && locationState.dog,\n    dateAdopted: \"\",\n    dashboardRedirect: false,\n    errorMessage: \"\",\n    cookie: {}\n  }); // check auth\n\n  useEffect(() => {\n    const cookie = isLoggedIn();\n\n    if (cookie.hasOwnProperty(\"isTrustedVolunteer\") && cookie.isTrustedVolunteer) {\n      setState({ ...state,\n        cookie\n      });\n    }\n    /* eslint-disable react-hooks/exhaustive-deps */\n\n  }, []); // Don't pre-populate\n  // useEffect(() => {\n  //     if (state.cookie.hasOwnProperty(\"isTrustedVolunteer\") && state.cookie.isTrustedVolunteer) {\n  //         getData(`/applicant?status=approved`)\n  //             .then(({ target }) => {\n  //                 setState({ ...state, approvedApplicants: JSON.parse(target.response) });\n  //             })\n  //             .catch(error => {\n  //                 console.log(error);\n  //             })\n  //     }\n  // }, [state.cookie]);\n\n  const getLatestApplication = (params, applicant) => {\n    const query = Object.keys(params).filter(key => params[key]).map((key, index) => `${index ? \"&\" : \"?\"}${key}=${params[key]}`).join(\"\");\n    getData(`/application${query}`).then(({\n      target\n    }) => {\n      if (target.status === 200) {\n        const latestApplication = JSON.parse(target.response)[0];\n        latestApplication.applicant = applicant;\n        setState({ ...state,\n          latestApplication\n        });\n      } else {\n        console.log(target);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const submitAdoption = () => {\n    const adoption = {\n      dateAdopted: state.dateAdopted,\n      applicationNumberFk: +state.latestApplication.id,\n      dogIdFk: state.dog.id\n    };\n    sendData(adoption, \"/adoption\").then(data => {\n      const {\n        target\n      } = data;\n\n      if (target.status === 201) {\n        // show success modal\n        setState({ ...state,\n          dashboardRedirect: true\n        });\n      } else {\n        console.log(\"error adding dog (non-201):\", target.response);\n        setState({ ...state,\n          errorMessage: target.response\n        });\n      }\n    }).catch(error => {\n      // show error modal\n      console.log(\"error adding dog (catch):\", error);\n      setState({ ...state,\n        errorMessage: error\n      });\n    });\n  };\n\n  const totalExpenses = state.dog && state.dog.expenses.reduce((sum, current) => sum + current.amountInCents / 100, 0);\n  const animalControlPays = state.dog && (state.dog.surrenderedByAnimalControl && totalExpenses || 0);\n  const adoptionFee = 1.15 * totalExpenses - animalControlPays;\n  const adoptionFeeCents = Math.round(adoptionFee % 1 * 100); // round to nearest cent\n\n  const adoptionFeeDollars = Math.floor(adoptionFee); // round down to nearest dollar\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, state.dashboardRedirect && /*#__PURE__*/React.createElement(Redirect, {\n    to: {\n      pathname: \"/dog-dashboard\",\n      state: {\n        from: \"/add-adoption\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(NavLinks, {\n    isTrustedVolunteer: state.cookie.isTrustedVolunteer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"Add Adoption\"), !state.latestApplication.id && /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"approved-applicant-last-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"Search by approved applicant last name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"approved-applicant-last-name\",\n    onChange: ({\n      target\n    }) => {\n      clearTimeout(state.timeout);\n      setState({ ...state,\n        timeout: setTimeout(() => {\n          // make http call for approved applicants like\n          getData(`/applicant?like=${target.value}`).then(({\n            target\n          }) => {\n            let approvedApplicants = JSON.parse(target.response);\n\n            if (target.status === 200) {\n              setState({ ...state,\n                approvedApplicants\n              });\n            } else {\n              console.log(target);\n            }\n          }).catch(error => {\n            console.log(error);\n          });\n        }, 400)\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }), !state.latestApplication.id && state.approvedApplicants.length && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, \"Select Applicant\"), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 37\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 37\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 37\n    }\n  }, \"Street\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 37\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 37\n    }\n  }, \"State\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 37\n    }\n  }, \"Zip\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 37\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  }, \"Phone Number\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 37\n    }\n  }, \"Co-applicant Name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, state.approvedApplicants.map((applicant, index) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        getLatestApplication({\n          applicantId: applicant.id,\n          coApplicantFirstName: applicant.coApplicantFirstName,\n          coApplicantLastName: applicant.coApplicantLastName\n        }, applicant);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 49\n      }\n    }, \"Select\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 45\n      }\n    }, applicant.firstName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 45\n      }\n    }, applicant.lastName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 45\n      }\n    }, applicant.street), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 45\n      }\n    }, applicant.city), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 45\n      }\n    }, applicant.state), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 45\n      }\n    }, applicant.zip), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 45\n      }\n    }, applicant.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 45\n      }\n    }, applicant.phoneNumber), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 45\n      }\n    }, `${applicant.coApplicantFirstName || \"\"} ${applicant.coApplicantLastName || \"\"}`));\n  })))), !state.latestApplication.id && !state.approvedApplicants.length && /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 86\n    }\n  }, \"There are not currently any approved applications.\"), state.latestApplication.id && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  }, \"Selected Application\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, \"Application Number: \", state.latestApplication.id), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 25\n    }\n  }, \"Date: \", new Date(state.latestApplication.date).toString()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 25\n    }\n  }, \"Applicant Name: \", state.latestApplication.applicant.firstName, \" \", state.latestApplication.applicant.lastName), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 25\n    }\n  }, \"Applicant Address: \", state.latestApplication.applicant.street, \", \", state.latestApplication.applicant.city, \", \", state.latestApplication.applicant.state, \"  \", state.latestApplication.applicant.zipCode), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, \"Email: \", state.latestApplication.applicant.email), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  }, \"Phone Number: \", state.latestApplication.applicant.phoneNumber), (state.latestApplication.coApplicantFirstName || state.latestApplication.coApplicantLastName) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 123\n    }\n  }, \"Co-Applicant: \", state.latestApplication.coApplicantFirstName, \" \", state.latestApplication.coApplicantLastName), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }, \"Expenses\"), state.dog.expenses.map(expense => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-unit\",\n    key: expense.vendor + expense.date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 33\n    }\n  }, \"Vendor: \", expense.vendor), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 33\n    }\n  }, \"Amount: $\", expense.amountInCents / 100), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 33\n    }\n  }, \"Description: \", expense.description), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 33\n    }\n  }, \"Date: \", expense.date))), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 25\n    }\n  }, \"Total Expenses: $\", totalExpenses), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 25\n    }\n  }, \"Animal Control pays: $\", animalControlPays), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 25\n    }\n  }, \"Adoption Fee: $\", adoptionFeeDollars, \".\", adoptionFeeCents), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"adoption-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 29\n    }\n  }, \"Adoption Date:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    onChange: ({\n      target\n    }) => setState({ ...state,\n      dateAdopted: target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 29\n    }\n  })), state.dateAdopted && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 47\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 29\n    }\n  }, \"I confirm every looks correct: \"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: submitAdoption,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 73\n    }\n  }, \"Complete Adoption\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => setState({ ...state,\n      latestApplication: {},\n      adoptionDate: \"\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 146\n    }\n  }, \"Cancel\")))));\n};\n\nexport default AddAdoption;","map":{"version":3,"sources":["/Users/ganesh/Desktop/OMSCS/DBMS/Phase1/CS6400-2020-02-Team26/Phase_3/client/src/containers/AddAdoption.js"],"names":["React","useEffect","useState","Redirect","useLocation","getData","sendData","isLoggedIn","NavLinks","AddAdoption","locationState","state","setState","approvedApplicants","approvedApplicantLastNameFragment","timeout","latestApplication","dog","dateAdopted","dashboardRedirect","errorMessage","cookie","hasOwnProperty","isTrustedVolunteer","getLatestApplication","params","applicant","query","Object","keys","filter","key","map","index","join","then","target","status","JSON","parse","response","console","log","catch","error","submitAdoption","adoption","applicationNumberFk","id","dogIdFk","data","totalExpenses","expenses","reduce","sum","current","amountInCents","animalControlPays","surrenderedByAnimalControl","adoptionFee","adoptionFeeCents","Math","round","adoptionFeeDollars","floor","pathname","from","clearTimeout","setTimeout","value","length","applicantId","coApplicantFirstName","coApplicantLastName","firstName","lastName","street","city","zip","email","phoneNumber","Date","date","toString","zipCode","expense","vendor","description","adoptionDate"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Redirect, useLocation } from \"react-router-dom\";\n\nimport { getData, sendData } from \"../services/api\";\nimport { isLoggedIn } from \"../services/auth\";\nimport { NavLinks } from \"../components\";\n\nconst AddAdoption = () => {\n    const locationState = useLocation().state;\n    const [state, setState] = useState({\n        approvedApplicants: [],\n        approvedApplicantLastNameFragment: \"\",\n        timeout: -1,\n        latestApplication: {},\n        dog: locationState && locationState.dog,\n        dateAdopted: \"\",\n        dashboardRedirect: false,\n        errorMessage: \"\",\n        cookie: {}\n    });\n\n    // check auth\n    useEffect(() => {\n        const cookie = isLoggedIn();\n        if (cookie.hasOwnProperty(\"isTrustedVolunteer\") && cookie.isTrustedVolunteer) {\n            setState({ ...state, cookie });\n        }\n        /* eslint-disable react-hooks/exhaustive-deps */\n    }, []);\n\n    // Don't pre-populate\n    // useEffect(() => {\n    //     if (state.cookie.hasOwnProperty(\"isTrustedVolunteer\") && state.cookie.isTrustedVolunteer) {\n    //         getData(`/applicant?status=approved`)\n    //             .then(({ target }) => {\n    //                 setState({ ...state, approvedApplicants: JSON.parse(target.response) });\n    //             })\n    //             .catch(error => {\n    //                 console.log(error);\n    //             })\n    //     }\n    // }, [state.cookie]);\n\n    const getLatestApplication = (params, applicant) => {\n        const query = Object.keys(params)\n            .filter(key => params[key])\n            .map((key, index) => `${index ? \"&\" : \"?\"}${key}=${params[key]}`)\n            .join(\"\")\n\n        getData(`/application${query}`)\n            .then(({ target }) => {\n                if (target.status === 200) {\n                    const latestApplication = JSON.parse(target.response)[0]\n                    latestApplication.applicant = applicant;\n                    setState({ ...state, latestApplication });\n                } else {\n                    console.log(target);\n                }\n\n            })\n            .catch(error => {\n                console.log(error);\n            });\n    }\n\n    const submitAdoption = () => {\n        const adoption = {\n            dateAdopted: state.dateAdopted,\n            applicationNumberFk: +state.latestApplication.id,\n            dogIdFk: state.dog.id\n        }\n        sendData(adoption, \"/adoption\")\n            .then(data => {\n                const { target } = data;\n                if (target.status === 201) {\n                    // show success modal\n                    setState({ ...state, dashboardRedirect: true });\n                } else {\n                    console.log(\"error adding dog (non-201):\", target.response);\n                    setState({ ...state, errorMessage: target.response });\n                }\n            })\n            .catch(error => {\n                // show error modal\n                console.log(\"error adding dog (catch):\", error);\n                setState({ ...state, errorMessage: error });\n            });\n    }\n\n    const totalExpenses = state.dog && state.dog.expenses.reduce((sum, current) => sum + (current.amountInCents / 100), 0);\n\n    const animalControlPays = state.dog && ((state.dog.surrenderedByAnimalControl && totalExpenses) || 0);\n\n    const adoptionFee = (1.15 * totalExpenses) - animalControlPays;\n\n    const adoptionFeeCents = Math.round((adoptionFee % 1) * 100); // round to nearest cent\n\n    const adoptionFeeDollars = Math.floor(adoptionFee); // round down to nearest dollar\n\n    return (\n        <>\n            {state.dashboardRedirect && <Redirect to={{ pathname: \"/dog-dashboard\", state: { from: \"/add-adoption\" } }} />}\n            <NavLinks isTrustedVolunteer={state.cookie.isTrustedVolunteer} />\n            <main className=\"container\">\n                <h1>Add Adoption</h1>\n                {!state.latestApplication.id && <form>\n                    <div className=\"form-unit\">\n                        <label htmlFor=\"approved-applicant-last-name\">Search by approved applicant last name:</label>\n                        <input\n                            id=\"approved-applicant-last-name\"\n                            onChange={({ target }) => {\n                                clearTimeout(state.timeout);\n                                setState({\n                                    ...state, timeout: setTimeout(() => {\n                                        // make http call for approved applicants like\n                                        getData(`/applicant?like=${target.value}`)\n                                            .then(({ target }) => {\n                                                let approvedApplicants = JSON.parse(target.response);\n                                                if (target.status === 200) {\n                                                    setState({ ...state, approvedApplicants });\n                                                }\n                                                else {\n                                                    console.log(target);\n                                                }\n                                            })\n                                            .catch(error => {\n                                                console.log(error);\n                                            })\n                                    }, 400)\n                                });\n                            }}\n                        />\n                    </div>\n\n                </form>}\n                <div>\n\n                </div>\n\n\n                {!state.latestApplication.id && state.approvedApplicants.length && (\n                    <>\n                        <h3>Select Applicant</h3>\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th></th>\n                                    <th>First Name</th>\n                                    <th>Last Name</th>\n                                    <th>Street</th>\n                                    <th>City</th>\n                                    <th>State</th>\n                                    <th>Zip</th>\n                                    <th>Email</th>\n                                    <th>Phone Number</th>\n                                    <th>Co-applicant Name</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {state.approvedApplicants.map((applicant, index) => {\n                                    return (\n                                        <tr key={index} >\n                                            <td>\n                                                <button type=\"button\" onClick={() => {\n                                                    getLatestApplication({ applicantId: applicant.id, coApplicantFirstName: applicant.coApplicantFirstName, coApplicantLastName: applicant.coApplicantLastName }, applicant);\n                                                }}>Select</button>\n                                            </td>\n                                            <td>{applicant.firstName}</td>\n                                            <td>{applicant.lastName}</td>\n                                            <td>{applicant.street}</td>\n                                            <td>{applicant.city}</td>\n                                            <td>{applicant.state}</td>\n                                            <td>{applicant.zip}</td>\n                                            <td>{applicant.email}</td>\n                                            <td>{applicant.phoneNumber}</td>\n                                            <td>{`${applicant.coApplicantFirstName || \"\"} ${applicant.coApplicantLastName || \"\"}`}</td>\n                                        </tr>\n                                    );\n\n                                })}\n                            </tbody>\n                        </table>\n                    </>\n                )}\n                {!state.latestApplication.id && !state.approvedApplicants.length && (<h3>There are not currently any approved applications.</h3>)}\n                {state.latestApplication.id && (\n                    <>\n                        <h3>Selected Application</h3>\n                        <div className=\"form-unit\">Application Number: {state.latestApplication.id}</div>\n                        <div className=\"form-unit\">Date: {new Date(state.latestApplication.date).toString()}</div>\n                        <div className=\"form-unit\">Applicant Name: {state.latestApplication.applicant.firstName} {state.latestApplication.applicant.lastName}</div>\n                        <div className=\"form-unit\">Applicant Address: {state.latestApplication.applicant.street}, {state.latestApplication.applicant.city}, {state.latestApplication.applicant.state}  {state.latestApplication.applicant.zipCode}</div>\n                        <div className=\"form-unit\">Email: {state.latestApplication.applicant.email}</div>\n                        <div className=\"form-unit\">Phone Number: {state.latestApplication.applicant.phoneNumber}</div>\n                        {(state.latestApplication.coApplicantFirstName || state.latestApplication.coApplicantLastName) && <div className=\"form-unit\">Co-Applicant: {state.latestApplication.coApplicantFirstName} {state.latestApplication.coApplicantLastName}</div>}\n                        <h3>Expenses</h3>\n                        {state.dog.expenses.map(expense => (\n                            <div className=\"form-unit\" key={expense.vendor + expense.date}>\n                                <div>Vendor: {expense.vendor}</div>\n                                <div>Amount: ${expense.amountInCents / 100}</div>\n                                <div>Description: {expense.description}</div>\n                                <div>Date: {expense.date}</div>\n                            </div>\n                        ))}\n                        <h3>Total Expenses: ${totalExpenses}</h3>\n                        <h3>Animal Control pays: ${animalControlPays}</h3>\n                        <h3>Adoption Fee: ${adoptionFeeDollars}.{adoptionFeeCents}</h3>\n                        <div>\n                            <label htmlFor=\"adoption-date\">Adoption Date:</label>\n                            <input type=\"date\" onChange={({ target }) => setState({ ...state, dateAdopted: target.value })} />\n                        </div>\n                        {state.dateAdopted && <div>\n                            <span>I confirm every looks correct: </span><button type=\"button\" onClick={submitAdoption}>Complete Adoption</button><button type=\"button\" onClick={() => setState({ ...state, latestApplication: {}, adoptionDate: \"\" })}>Cancel</button>\n                        </div>}\n                    </>\n                )}\n            </main>\n        </>\n    )\n\n\n}\n\nexport default AddAdoption;"]},"metadata":{},"sourceType":"module"}